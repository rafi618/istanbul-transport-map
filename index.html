<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Istanbul Transport & District Map — Property Quest Turkey</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700;800&family=DM+Sans:wght@300;400;500;600;700&display=swap');
:root{--navy:#0B1D3A;--navy-light:#122B52;--gold:#C9A84C;--premium:#D4AF37;--high:#2196F3;--emerging:#4CAF50;--value:#FF9800;--frontier:#9C27B0}
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:'DM Sans',sans-serif;background:var(--navy);color:#fff;overflow:hidden;height:100vh;user-select:none}

#mc{width:100%;height:100vh;position:relative;overflow:hidden;cursor:grab}
#mc:active{cursor:grabbing}
#sv{position:absolute;top:0;left:0;will-change:transform}
.dist{cursor:pointer;transition:fill-opacity 0.25s,stroke-opacity 0.25s,stroke-width 0.25s}
.dist:hover{fill-opacity:0.4;stroke-opacity:0.9;stroke-width:2.5}

/* Header */
.header{position:fixed;top:0;left:0;right:0;z-index:200;background:linear-gradient(135deg,#070e1e,#0B1D3A 40%,#0f2847);border-bottom:2px solid;border-image:linear-gradient(90deg,transparent,var(--gold),transparent) 1;padding:14px 28px;display:flex;align-items:center;justify-content:space-between;box-shadow:0 4px 30px rgba(0,0,0,0.5)}
.brand{display:flex;align-items:center;gap:12px}
.brand-icon{width:46px;height:46px;background:linear-gradient(135deg,#D4AF37,#C9A84C,#B8963F);border-radius:10px;display:flex;align-items:center;justify-content:center;font-family:'Playfair Display',serif;font-weight:800;font-size:18px;color:var(--navy);box-shadow:0 2px 12px rgba(201,168,76,0.3)}
.brand h1{font-family:'Playfair Display',serif;font-size:18px;font-weight:700;color:var(--gold);letter-spacing:2px}
.brand p{font-size:9px;color:rgba(255,255,255,0.35);letter-spacing:4px;text-transform:uppercase;margin-top:2px}
.header-badge{background:linear-gradient(135deg,rgba(201,168,76,0.12),rgba(201,168,76,0.06));border:1px solid rgba(201,168,76,0.3);border-radius:20px;padding:6px 18px;font-size:10px;color:var(--gold);font-weight:700;letter-spacing:2px;text-transform:uppercase}

/* Panel */
.panel{position:fixed;top:62px;right:0;z-index:150;background:linear-gradient(180deg,#0a1628,#0B1D3A);border-left:1px solid rgba(201,168,76,0.15);width:275px;height:calc(100vh - 62px);overflow-y:auto;padding:16px;scrollbar-width:thin;scrollbar-color:rgba(201,168,76,0.3) transparent}
.panel::-webkit-scrollbar{width:3px}
.panel::-webkit-scrollbar-thumb{background:rgba(201,168,76,0.3);border-radius:3px}
.sb-title{font-family:'Playfair Display',serif;font-size:15px;color:var(--gold);margin-bottom:4px;letter-spacing:0.5px}
.sb-sub{font-size:9px;color:rgba(255,255,255,0.3);line-height:1.6;margin-bottom:14px;border-bottom:1px solid rgba(201,168,76,0.08);padding-bottom:12px}
.lg{margin-bottom:10px}
.lgt{font-size:8px;text-transform:uppercase;letter-spacing:2.5px;color:rgba(201,168,76,0.5);margin-bottom:5px;padding-left:2px;font-weight:700;display:flex;align-items:center;justify-content:space-between}
.lgt-toggle{font-size:8px;color:rgba(255,255,255,0.3);cursor:pointer;text-transform:none;letter-spacing:0;font-weight:500;padding:2px 8px;border-radius:4px;border:1px solid rgba(255,255,255,0.1);transition:all 0.2s}
.lgt-toggle:hover{color:var(--gold);border-color:rgba(201,168,76,0.3);background:rgba(201,168,76,0.06)}
.lb{display:flex;align-items:center;gap:8px;padding:6px 10px;border-radius:7px;cursor:pointer;transition:all 0.2s;margin-bottom:2px;border:1px solid transparent}
.lb:hover{background:rgba(201,168,76,0.04);border-color:rgba(201,168,76,0.06)}
.lb.active{background:rgba(255,255,255,0.04);border-color:rgba(255,255,255,0.06)}
.lb.off{opacity:0.25}
.lb.off span{text-decoration:line-through}
.lb .lc{width:20px;height:4px;border-radius:2px;flex-shrink:0}
.lb .ldot{width:9px;height:9px;border-radius:50%;flex-shrink:0}
.lb .ldash{width:20px;height:0;border-top:3px dashed;flex-shrink:0}
.lb span{font-size:10.5px;color:rgba(255,255,255,0.75);font-weight:500}

/* Legend */
.legend{margin-top:16px;padding-top:14px;border-top:1px solid rgba(201,168,76,0.12)}
.legend-title{font-family:'Playfair Display',serif;font-size:13px;color:var(--gold);margin-bottom:10px;letter-spacing:0.5px}
.legend-item{display:flex;align-items:flex-start;gap:8px;padding:5px 0;font-size:10px;color:rgba(255,255,255,0.55)}
.legend-dot{width:14px;height:14px;border-radius:4px;flex-shrink:0;margin-top:1px;box-shadow:inset 0 0 0 1px rgba(255,255,255,0.1)}

/* Zoom */
.zc{position:fixed;bottom:20px;left:14px;z-index:150;display:flex;flex-direction:column;gap:3px}
.zb{width:36px;height:36px;background:linear-gradient(135deg,#0a1628,#0B1D3A);border:1px solid rgba(201,168,76,0.25);border-radius:8px;color:var(--gold);font-size:18px;cursor:pointer;display:flex;align-items:center;justify-content:center;box-shadow:0 2px 10px rgba(0,0,0,0.4);transition:all 0.2s}
.zb:hover{background:var(--navy-light);border-color:rgba(201,168,76,0.4);box-shadow:0 2px 14px rgba(201,168,76,0.15)}

/* Tooltip */
.tip{position:fixed;z-index:300;background:linear-gradient(135deg,rgba(11,29,58,0.98),rgba(15,40,71,0.98));border:1px solid rgba(201,168,76,0.35);border-radius:12px;padding:12px 16px;pointer-events:none;opacity:0;transition:opacity 0.15s;box-shadow:0 8px 32px rgba(0,0,0,0.7);max-width:300px;backdrop-filter:blur(8px)}
.tip.show{opacity:1}
.tn{font-family:'Playfair Display',serif;font-weight:700;font-size:16px;color:var(--gold);margin-bottom:3px;letter-spacing:0.3px}
.tl{font-size:11px;color:rgba(255,255,255,0.5);display:flex;align-items:center;gap:6px;font-weight:500}
.tdot{width:8px;height:8px;border-radius:50%;flex-shrink:0}

/* Mobile panel toggle */
.pt{position:fixed;top:72px;right:10px;z-index:201;width:34px;height:34px;background:var(--navy);border:1px solid rgba(201,168,76,0.25);border-radius:8px;display:none;align-items:center;justify-content:center;cursor:pointer;color:var(--gold);font-size:14px}
@media(max-width:900px){
  .panel{display:none}
  .pt{display:flex}
  .panel.mopen{display:block;width:100%;height:auto;max-height:40vh;bottom:0;top:auto;right:0;border-left:none;border-top:1px solid rgba(201,168,76,0.12)}
}
</style>
</head>
<body>

<div class="header">
  <div class="brand">
    <div class="brand-icon">PQT</div>
    <div><h1>PROPERTY QUEST TURKEY</h1><p>Istanbul Full Transport &amp; Infrastructure Map</p></div>
  </div>
  <div class="header-badge">Client Presentation</div>
</div>

<div class="pt" id="ptBtn" onclick="document.getElementById('panel').classList.toggle('mopen')">☰</div>
<div class="panel" id="panel"></div>

<div id="mc"><svg id="sv"></svg></div>

<div class="zc">
  <button class="zb" onclick="zm(1.3)">+</button>
  <button class="zb" onclick="zm(0.77)">−</button>
  <button class="zb" onclick="rv()" style="font-size:11px">⟲</button>
</div>

<div class="tip" id="tip"><div class="tn" id="tn"></div><div class="tl" id="tl"></div></div>

<script>
// EXPANDED coordinate system covering ALL 39 districts fully
const W=5000,H=2800;
const LATMIN=40.78,LATMAX=41.62,LNGMIN=27.90,LNGMAX=30.00;
let sc=1,px=0,py=0,drag=false,dx0,dy0,px0,py0;
function Xc(lng){return((lng-LNGMIN)/(LNGMAX-LNGMIN))*W}
function Yc(lat){return((LATMAX-lat)/(LATMAX-LATMIN))*H}
function P(lat,lng){return[Xc(lng),Yc(lat)]}

const svg=document.getElementById('sv');
const mc=document.getElementById('mc');
const tip=document.getElementById('tip');
svg.setAttribute('width',W);svg.setAttribute('height',H);svg.setAttribute('viewBox','0 0 '+W+' '+H);
function ns(t){return document.createElementNS('http://www.w3.org/2000/svg',t)}
const vis={},grps={};

const zoneLabels={premium:'Premium Investment Zone',high:'High Growth Zone',emerging:'Emerging Market',value:'Value Opportunity',frontier:'Frontier / Developing'};
const zoneColors={premium:'#D4AF37',high:'#2196F3',emerging:'#4CAF50',value:'#FF9800',frontier:'#9C27B0'};

// ═══ TOOLTIP ═══
function stt(e,nm,ln,c){
  const cx=e.clientX||(e.touches&&e.touches[0].clientX)||0;
  const cy=e.clientY||(e.touches&&e.touches[0].clientY)||0;
  document.getElementById('tn').textContent=nm;
  document.getElementById('tl').innerHTML='<span class="tdot" style="background:'+c+'"></span>'+ln;
  tip.style.left=(cx+14)+'px';tip.style.top=(cy-10)+'px';tip.classList.add('show');
}
function htt(){tip.classList.remove('show')}

// ═══ WATER ═══
function drawWater(){
  const g=ns('g');
  // Marmara Sea background
  const sea=ns('rect');sea.setAttribute('x',0);sea.setAttribute('y',Yc(40.88));
  sea.setAttribute('width',W);sea.setAttribute('height',H-Yc(40.88));
  sea.setAttribute('fill','#00BFFF');sea.setAttribute('opacity','0.03');g.appendChild(sea);
  // Bosphorus
  const bp=[[41.22,29.093],[41.21,29.087],[41.198,29.078],[41.187,29.072],[41.175,29.068],[41.162,29.064],[41.15,29.061],[41.138,29.059],[41.126,29.057],[41.115,29.056],[41.105,29.054],[41.095,29.052],[41.085,29.05],[41.077,29.046],[41.07,29.041],[41.064,29.035],[41.058,29.029],[41.052,29.023],[41.045,29.019],[41.037,29.017],[41.028,29.015],[41.02,29.013],[41.012,29.01],[41.005,29.009],[40.997,29.008],[40.988,29.006],[40.98,29.005],[40.97,29.004]];
  [['26','0.06'],['4','0.35']].forEach(([w,o])=>{
    const l=ns('polyline');l.setAttribute('points',bp.map(c=>P(c[0],c[1]).join(',')).join(' '));
    l.setAttribute('fill','none');l.setAttribute('stroke','#00BFFF');l.setAttribute('stroke-width',w);
    l.setAttribute('stroke-opacity',o);l.setAttribute('stroke-linecap','round');l.setAttribute('stroke-linejoin','round');
    if(w==='4')l.setAttribute('stroke-dasharray','12,6');g.appendChild(l);
  });
  const[bx,by]=P(41.09,29.055);
  const bt=ns('text');bt.setAttribute('x',bx);bt.setAttribute('y',by);bt.setAttribute('fill','#00BFFF');
  bt.setAttribute('font-size','14');bt.setAttribute('font-weight','700');bt.setAttribute('font-family','Playfair Display,serif');
  bt.setAttribute('letter-spacing','4');bt.setAttribute('opacity','0.5');
  bt.setAttribute('transform','rotate(-40,'+bx+','+by+')');bt.textContent='B O S P H O R U S';g.appendChild(bt);
  // Side labels
  [[41.15,28.70,'EUROPEAN SIDE'],[41.03,29.30,'ASIAN SIDE']].forEach(([la,ln,txt])=>{
    const[cx,cy]=P(la,ln);const t=ns('text');t.setAttribute('x',cx);t.setAttribute('y',cy);
    t.setAttribute('fill','rgba(255,255,255,0.05)');t.setAttribute('font-size','38');t.setAttribute('font-weight','800');
    t.setAttribute('font-family','Playfair Display,serif');t.setAttribute('letter-spacing','12');t.textContent=txt;g.appendChild(t);
  });
  svg.appendChild(g);
}

// ═══ DISTRICTS ═══
function drawDistricts(){
  const g=ns('g');g.id='DIST';
  g.innerHTML=`<path d="M2886.9,2668.7 L2889.3,2665.0 L2889.8,2673.3 L2886.9,2668.7Z M2741.0,2351.7 L2755.5,2378.0 L2747.6,2389.3 L2727.4,2391.3 L2712.4,2360.7 L2741.0,2351.7Z M2802.9,2459.0 L2800.2,2451.0 L2803.1,2447.7 L2806.4,2450.7 L2802.9,2459.0Z M2971.9,2573.3 L2954.3,2566.3 L2960.0,2547.7 L2967.9,2558.7 L2971.9,2573.3Z M2913.3,2606.3 L2892.1,2606.0 L2880.7,2594.0 L2892.1,2578.7 L2881.7,2555.3 L2888.1,2534.3 L2876.2,2532.0 L2874.3,2530.3 L2891.7,2526.0 L2894.3,2497.3 L2938.8,2483.3 L2950.2,2500.7 L2919.5,2542.3 L2913.3,2606.3Z M2800.0,2486.7 L2834.0,2465.3 L2830.5,2456.0 L2850.5,2451.0 L2866.9,2486.7 L2850.5,2501.7 L2826.7,2506.3 L2829.5,2498.7 L2822.1,2494.7 L2815.5,2498.7 L2817.4,2508.3 L2798.1,2505.0 L2800.0,2486.7Z M2755.7,2453.0 L2751.7,2445.3 L2784.5,2451.3 L2791.7,2469.7 L2771.2,2487.0 L2753.1,2482.7 L2743.6,2472.7 L2755.7,2453.0Z M2559.0,2481.3 L2546.7,2480.3 L2554.0,2476.3 L2557.4,2478.0 L2559.0,2481.3Z M2604.5,2511.3 L2603.6,2522.7 L2595.7,2512.3 L2604.5,2511.3Z " fill="#9C27B0" fill-opacity="0.22" stroke="rgba(255,255,255,0.35)" stroke-width="1.5" stroke-opacity="0.5" data-name="Adalar" data-zone="frontier" class="dist"/><path d="M4074.0,1464.0 L4073.6,1461.0 L4075.0,1463.7 L4074.0,1464.0Z M4076.9,1456.7 L4076.4,1455.0 L4077.4,1456.3 L4076.9,1456.7Z M4071.2,1462.0 L4067.9,1463.0 L4068.3,1458.3 L4071.2,1462.0Z M4061.4,1457.3 L4059.0,1454.7 L4061.4,1455.0 L4061.4,1457.3Z M4350.7,1542.0 L4349.5,1540.7 L4350.7,1540.7 L4350.7,1542.0Z M4353.3,1543.0 L4353.8,1541.7 L4355.0,1540.3 L4353.3,1543.0Z M4399.0,1533.0 L4398.1,1533.3 L4398.8,1532.7 L4399.0,1533.0Z M4399.8,1532.7 L4399.3,1532.3 L4399.8,1532.3 L4399.8,1532.7Z M4400.7,1532.0 L4400.0,1532.0 L4400.5,1531.7 L4400.7,1532.0Z M4416.4,1530.0 L4415.5,1529.3 L4416.9,1528.7 L4416.4,1530.0Z M4479.3,1542.7 L4478.6,1542.3 L4479.5,1542.3 L4479.3,1542.7Z M4360.2,1548.7 L4386.7,1533.3 L4405.5,1537.3 L4412.4,1528.7 L4419.0,1542.7 L4446.7,1531.7 L4468.1,1537.7 L4468.3,1546.7 L4476.0,1538.7 L4478.8,1543.3 L4498.8,1548.7 L4498.6,1561.0 L4514.8,1554.3 L4570.2,1588.7 L4633.3,1604.7 L4655.5,1602.3 L4647.9,1594.0 L4669.8,1588.0 L4700.7,1593.3 L4704.0,1604.0 L4750.7,1588.7 L4780.0,1597.7 L4784.5,1589.0 L4801.4,1591.3 L4795.7,1601.3 L4799.5,1650.7 L4786.0,1665.7 L4796.2,1665.7 L4790.0,1672.0 L4801.7,1731.0 L4832.6,1743.7 L4891.4,1737.3 L4899.8,1753.3 L4893.8,1768.0 L4898.1,1787.7 L4889.5,1790.7 L4890.7,1800.3 L4851.7,1778.0 L4804.8,1779.3 L4773.3,1760.3 L4741.2,1756.7 L4743.1,1780.7 L4729.3,1800.7 L4742.9,1854.3 L4729.3,1857.0 L4730.5,1872.3 L4715.5,1884.0 L4716.0,1931.0 L4683.3,1931.0 L4669.0,1961.0 L4603.3,2007.0 L4604.3,2023.7 L4596.9,2028.0 L4554.8,2014.7 L4542.1,1996.7 L4522.6,2004.3 L4515.0,2031.3 L4507.6,2016.3 L4511.2,2000.3 L4490.2,1995.0 L4471.9,1975.0 L4430.2,1986.7 L4392.6,1929.7 L4385.7,1950.0 L4375.0,1948.0 L4376.0,1930.0 L4366.7,1918.7 L4339.5,1955.0 L4323.3,1950.0 L4320.5,1960.7 L4303.6,1952.7 L4296.2,1960.7 L4300.7,2005.3 L4332.6,2041.7 L4329.3,2059.7 L4301.2,2075.7 L4290.2,2099.0 L4266.7,2104.0 L4258.1,2120.3 L4264.5,2129.0 L4247.1,2143.0 L4246.4,2166.7 L4236.0,2180.0 L4218.3,2178.7 L4199.8,2194.0 L4180.0,2186.3 L4171.0,2168.7 L4127.6,2163.3 L4080.0,2129.3 L4064.0,2129.0 L4059.3,2112.7 L4072.4,2091.7 L4074.3,2065.3 L4069.3,2042.0 L4045.0,2055.3 L4052.1,2025.0 L4041.0,1998.3 L4048.3,1978.0 L3986.7,1949.7 L3984.5,1957.7 L3968.1,1951.3 L3947.9,1936.0 L3930.5,1948.7 L3901.4,1944.0 L3898.3,1956.3 L3876.7,1961.0 L3863.1,1926.3 L3851.2,1920.0 L3836.9,1933.0 L3830.0,1927.7 L3830.7,1942.0 L3816.2,1960.3 L3803.6,1947.3 L3770.5,1966.7 L3765.0,1998.7 L3670.0,2078.7 L3653.3,2058.0 L3662.1,2035.3 L3651.4,2037.7 L3650.0,2018.7 L3638.8,2015.3 L3644.5,1999.0 L3604.3,1978.0 L3570.0,1985.3 L3515.0,1949.3 L3515.5,1902.3 L3500.2,1876.3 L3524.0,1861.3 L3547.6,1829.7 L3542.4,1821.7 L3558.3,1808.7 L3558.3,1795.3 L3570.5,1792.0 L3570.0,1780.3 L3548.1,1768.0 L3572.4,1752.3 L3576.2,1738.3 L3529.8,1703.3 L3519.8,1657.0 L3506.7,1647.3 L3492.6,1657.7 L3474.0,1648.7 L3489.0,1619.0 L3485.7,1597.3 L3461.2,1590.7 L3468.6,1567.7 L3454.3,1555.0 L3441.4,1561.0 L3430.5,1528.7 L3403.1,1540.7 L3383.6,1455.3 L3388.8,1415.3 L3410.5,1388.0 L3404.0,1362.7 L3410.7,1344.7 L3469.8,1364.0 L3520.5,1361.7 L3546.4,1350.0 L3668.1,1400.7 L3961.9,1488.0 L4040.7,1496.0 L4056.2,1482.3 L4051.9,1473.7 L4069.5,1473.0 L4062.6,1463.0 L4051.7,1470.7 L4047.1,1471.0 L4065.2,1459.7 L4065.7,1462.7 L4071.7,1467.7 L4081.2,1463.3 L4091.0,1474.7 L4103.6,1467.0 L4106.9,1482.3 L4126.9,1485.7 L4130.2,1496.0 L4147.1,1501.3 L4154.5,1493.3 L4161.0,1505.7 L4190.7,1516.3 L4210.5,1511.3 L4235.7,1527.0 L4293.3,1520.3 L4300.2,1534.3 L4360.2,1548.7Z " fill="#9C27B0" fill-opacity="0.22" stroke="rgba(255,255,255,0.35)" stroke-width="1.5" stroke-opacity="0.5" data-name="Şile" data-zone="frontier" class="dist"/><path d="M678.3,1822.3 L578.6,1836.7 L543.1,1849.7 L530.7,1868.0 L509.0,1862.7 L413.6,1878.3 L345.2,1924.3 L311.0,1929.3 L256.2,1959.7 L249.8,1933.0 L226.9,1939.7 L219.8,1924.0 L204.5,1920.0 L194.3,1933.0 L191.4,1921.0 L176.7,1924.7 L188.1,1902.7 L179.3,1848.0 L200.0,1828.0 L193.1,1826.0 L193.6,1813.7 L179.3,1815.7 L178.6,1799.7 L188.1,1788.0 L177.4,1774.3 L186.4,1740.3 L170.0,1732.0 L180.5,1709.3 L173.3,1703.7 L182.9,1697.0 L172.6,1692.7 L180.2,1653.3 L171.7,1651.7 L188.3,1585.3 L184.5,1547.3 L197.9,1524.3 L265.5,1523.7 L264.5,1512.7 L291.4,1466.7 L283.1,1452.3 L276.2,1398.3 L234.5,1325.7 L237.4,1269.7 L275.0,1225.7 L376.0,1173.3 L388.3,1141.0 L420.7,1107.0 L418.8,1084.0 L432.1,1070.0 L449.0,1081.0 L462.9,1068.0 L496.2,1077.7 L514.0,1072.3 L557.4,1007.3 L568.6,1005.7 L548.3,987.3 L536.0,947.0 L560.0,907.0 L551.9,855.0 L577.1,872.7 L618.6,872.3 L724.8,916.3 L741.0,948.3 L758.6,914.0 L780.5,925.7 L828.8,920.0 L865.5,909.7 L876.4,884.7 L887.4,883.0 L908.1,912.0 L894.8,953.3 L870.0,985.0 L874.5,1006.7 L900.0,1030.3 L909.0,1027.7 L927.1,1051.0 L976.7,1032.3 L1008.1,1041.7 L996.0,1051.7 L975.0,1112.3 L941.0,1149.3 L958.8,1150.0 L957.9,1170.7 L966.0,1175.7 L970.5,1203.7 L995.7,1231.0 L992.6,1252.0 L1021.4,1271.0 L1057.4,1263.7 L1076.9,1328.7 L1110.2,1359.0 L1113.6,1372.7 L1129.3,1371.3 L1139.0,1395.3 L1127.4,1420.0 L1112.9,1426.0 L1129.5,1452.0 L1107.9,1489.0 L1118.3,1494.0 L1121.0,1526.7 L1137.9,1522.7 L1151.9,1533.3 L1146.0,1552.3 L1155.0,1571.3 L1147.1,1587.3 L1163.3,1635.7 L1143.6,1639.7 L1160.0,1653.3 L1169.8,1738.7 L1179.8,1752.7 L1166.0,1798.0 L1176.4,1814.3 L1171.9,1896.7 L1169.0,1906.3 L1049.0,1872.3 L983.6,1874.7 L913.6,1855.7 L857.1,1858.3 L810.5,1833.0 L806.7,1825.7 L815.2,1829.7 L815.7,1820.0 L809.3,1821.7 L815.2,1817.3 L800.5,1808.3 L761.4,1809.3 L740.5,1832.0 L678.3,1822.3Z " fill="#9C27B0" fill-opacity="0.22" stroke="rgba(255,255,255,0.35)" stroke-width="1.5" stroke-opacity="0.5" data-name="Silivri" data-zone="frontier" class="dist"/><path d="M1647.1,2015.0 L1606.7,2005.7 L1616.4,2014.0 L1601.7,2005.7 L1579.0,2011.7 L1578.3,2021.0 L1586.2,2017.3 L1552.4,2042.7 L1540.5,2068.3 L1533.8,2113.0 L1526.7,2118.0 L1446.7,2067.3 L1452.6,2077.0 L1446.4,2069.0 L1445.5,2056.0 L1387.1,2023.3 L1347.1,1984.7 L1260.0,1938.0 L1169.0,1906.3 L1174.3,1807.0 L1194.5,1782.3 L1243.3,1816.0 L1268.6,1804.3 L1295.5,1813.7 L1325.5,1839.3 L1361.7,1840.7 L1382.1,1876.3 L1425.5,1869.3 L1466.0,1829.3 L1478.1,1834.0 L1488.6,1824.0 L1448.3,1725.7 L1483.1,1707.7 L1517.9,1728.0 L1539.3,1756.3 L1556.0,1755.3 L1577.1,1681.3 L1587.6,1686.0 L1620.7,1643.3 L1644.8,1646.3 L1648.8,1636.3 L1661.2,1667.3 L1676.4,1672.3 L1677.6,1692.7 L1686.4,1696.3 L1689.3,1681.0 L1701.2,1672.0 L1746.7,1770.7 L1734.5,1781.7 L1715.5,1837.7 L1733.6,1891.3 L1722.4,1953.3 L1735.2,1996.7 L1746.2,2005.0 L1729.5,2011.0 L1728.1,2034.3 L1696.7,2094.3 L1678.6,2075.0 L1659.5,2076.7 L1666.4,2038.7 L1647.1,2015.0Z " fill="#9C27B0" fill-opacity="0.22" stroke="rgba(255,255,255,0.35)" stroke-width="1.5" stroke-opacity="0.5" data-name="Büyükçekmece" data-zone="frontier" class="dist"/><path d="M886.4,412.7 L1410.5,706.3 L1408.1,766.3 L1475.5,789.3 L1510.0,829.7 L1584.0,846.7 L1602.6,888.0 L1565.0,1035.3 L1552.9,1137.0 L1534.5,1147.7 L1534.8,1165.7 L1549.0,1201.0 L1579.5,1196.3 L1610.0,1211.0 L1614.8,1271.7 L1607.6,1287.3 L1617.1,1302.0 L1625.0,1294.3 L1632.9,1382.3 L1655.0,1435.3 L1653.1,1494.7 L1630.5,1524.7 L1620.0,1559.7 L1590.2,1597.0 L1605.7,1637.3 L1576.7,1672.3 L1556.0,1755.3 L1539.3,1756.3 L1517.9,1728.0 L1483.1,1707.7 L1448.3,1725.7 L1488.6,1824.0 L1478.1,1834.0 L1466.0,1829.3 L1429.5,1867.7 L1382.1,1876.3 L1361.7,1840.7 L1325.5,1839.3 L1295.5,1813.7 L1268.6,1804.3 L1243.3,1816.0 L1194.5,1782.3 L1174.3,1807.0 L1166.0,1798.0 L1179.8,1752.7 L1169.8,1738.7 L1160.0,1653.3 L1143.6,1639.7 L1163.3,1635.7 L1147.1,1587.3 L1155.0,1571.3 L1146.0,1552.3 L1151.9,1533.3 L1137.9,1522.7 L1121.0,1526.7 L1118.3,1494.0 L1107.9,1489.0 L1129.5,1452.0 L1112.9,1426.0 L1127.4,1420.0 L1139.0,1395.3 L1129.3,1371.3 L1113.6,1372.7 L1110.2,1359.0 L1076.9,1328.7 L1057.4,1263.7 L1021.4,1271.0 L992.6,1252.0 L995.7,1231.0 L970.5,1203.7 L966.0,1175.7 L957.9,1170.7 L958.8,1150.0 L941.0,1149.3 L975.0,1112.3 L996.0,1051.7 L1008.1,1041.7 L976.7,1032.3 L927.1,1051.0 L909.0,1027.7 L900.0,1030.3 L874.5,1006.7 L870.0,985.0 L894.8,953.3 L908.1,912.0 L887.4,883.0 L876.4,884.7 L865.5,909.7 L828.8,920.0 L780.5,925.7 L758.6,914.0 L741.0,948.3 L724.8,916.3 L618.6,872.3 L577.1,872.7 L551.9,855.0 L560.0,907.0 L536.0,947.0 L548.3,987.3 L568.6,1005.7 L557.4,1007.3 L514.0,1072.3 L496.2,1077.7 L462.9,1068.0 L448.1,1081.0 L433.6,1069.3 L425.7,1076.7 L421.7,1067.0 L423.6,996.3 L449.3,914.0 L450.7,834.0 L471.7,782.3 L478.1,720.3 L529.0,700.3 L500.5,638.0 L508.6,584.3 L502.9,514.0 L491.0,502.7 L487.4,479.3 L459.0,465.0 L441.2,433.0 L406.9,419.7 L412.9,398.7 L405.5,370.3 L421.4,344.3 L457.4,341.3 L470.5,324.3 L488.1,323.3 L522.6,286.0 L526.7,265.3 L513.1,251.7 L524.5,250.0 L528.6,237.0 L520.7,229.3 L535.0,210.3 L518.1,197.0 L519.0,188.7 L563.8,128.0 L586.9,116.7 L604.0,133.7 L634.3,139.0 L638.1,154.0 L673.1,161.7 L672.9,172.0 L682.6,177.3 L669.8,187.3 L686.0,203.7 L681.9,220.7 L697.6,225.0 L696.4,239.3 L714.3,238.3 L712.1,248.7 L728.6,271.7 L766.4,302.3 L759.8,306.7 L763.1,317.7 L791.2,321.3 L791.9,332.7 L857.1,375.7 L861.7,392.3 L886.4,412.7Z " fill="#9C27B0" fill-opacity="0.22" stroke="rgba(255,255,255,0.35)" stroke-width="1.5" stroke-opacity="0.5" data-name="Çatalca" data-zone="frontier" class="dist"/><path d="M3248.1,2683.3 L3275.0,2664.3 L3285.0,2641.7 L3280.2,2627.7 L3266.0,2627.3 L3255.5,2620.0 L3247.9,2609.3 L3260.5,2611.7 L3244.5,2600.0 L3256.7,2567.7 L3265.0,2564.7 L3255.7,2592.3 L3264.5,2609.0 L3291.0,2619.0 L3286.4,2614.3 L3293.3,2595.0 L3312.6,2583.3 L3304.0,2542.0 L3321.0,2541.7 L3328.8,2520.7 L3347.6,2529.7 L3369.5,2521.0 L3361.9,2485.7 L3349.0,2477.3 L3368.1,2470.7 L3399.8,2432.3 L3399.8,2370.0 L3418.6,2353.7 L3425.2,2312.3 L3420.5,2296.3 L3506.7,2259.3 L3514.8,2239.3 L3529.3,2239.7 L3547.9,2218.0 L3561.7,2219.3 L3571.4,2185.0 L3587.4,2199.7 L3614.8,2157.0 L3681.9,2148.3 L3700.0,2133.3 L3705.7,2164.3 L3698.6,2201.0 L3705.5,2225.7 L3695.2,2241.7 L3667.4,2254.0 L3660.5,2273.3 L3672.6,2290.0 L3676.9,2345.7 L3696.7,2343.3 L3705.2,2359.0 L3671.9,2398.3 L3609.8,2407.3 L3604.0,2470.0 L3580.0,2467.3 L3524.0,2493.0 L3493.6,2523.7 L3486.7,2538.7 L3495.5,2547.3 L3480.0,2569.7 L3502.9,2607.0 L3486.0,2642.7 L3482.9,2677.0 L3448.8,2653.0 L3428.6,2697.7 L3393.1,2672.0 L3391.0,2671.7 L3391.7,2678.0 L3387.9,2683.3 L3389.0,2676.3 L3376.7,2676.3 L3382.1,2687.7 L3371.2,2679.7 L3367.9,2688.0 L3376.0,2690.3 L3354.8,2695.3 L3322.6,2678.7 L3317.4,2686.3 L3327.1,2694.3 L3279.3,2686.0 L3250.5,2695.0 L3242.1,2704.0 L3251.2,2701.7 L3246.7,2716.7 L3231.2,2724.3 L3235.0,2706.7 L3225.2,2684.7 L3247.6,2670.7 L3253.3,2670.7 L3242.9,2678.7 L3248.1,2683.3Z " fill="#4CAF50" fill-opacity="0.22" stroke="rgba(255,255,255,0.35)" stroke-width="1.5" stroke-opacity="0.5" data-name="Tuzla" data-zone="emerging" class="dist"/><path d="M3572.1,2185.7 L3558.3,2222.0 L3547.9,2218.0 L3529.3,2239.7 L3514.8,2239.3 L3506.7,2259.3 L3466.0,2283.0 L3420.5,2296.3 L3425.2,2312.3 L3418.6,2353.7 L3399.8,2370.0 L3399.8,2432.3 L3368.1,2470.7 L3349.0,2477.3 L3363.6,2490.7 L3369.5,2521.0 L3362.1,2526.0 L3328.8,2520.7 L3312.4,2548.3 L3304.0,2542.0 L3303.1,2552.0 L3294.3,2552.3 L3266.0,2540.7 L3250.7,2554.0 L3225.0,2541.7 L3221.2,2538.0 L3220.0,2536.0 L3236.4,2543.0 L3250.2,2533.3 L3230.0,2518.7 L3228.8,2535.0 L3225.5,2525.0 L3234.5,2509.7 L3177.6,2485.3 L3175.2,2497.7 L3189.5,2507.7 L3131.9,2473.0 L3139.8,2433.0 L3150.7,2434.7 L3153.6,2408.7 L3171.9,2425.7 L3185.0,2404.0 L3206.4,2397.3 L3197.6,2334.7 L3213.3,2325.7 L3226.9,2295.7 L3270.5,2294.3 L3323.6,2273.0 L3357.1,2235.7 L3361.4,2203.3 L3340.0,2203.3 L3307.1,2147.7 L3304.3,2049.0 L3321.9,2029.3 L3323.3,2015.0 L3434.8,2013.7 L3461.4,1984.3 L3480.0,1980.7 L3485.0,1975.0 L3474.3,1952.3 L3476.0,1936.0 L3487.1,1919.0 L3473.3,1893.0 L3485.2,1867.3 L3499.3,1874.0 L3515.5,1902.3 L3515.0,1949.3 L3528.3,1964.0 L3570.0,1985.3 L3604.3,1978.0 L3644.5,1999.0 L3638.8,2015.3 L3650.0,2018.7 L3651.4,2037.7 L3662.1,2035.3 L3653.3,2058.0 L3670.0,2078.7 L3765.0,1998.7 L3770.5,1966.7 L3803.6,1947.3 L3813.8,1961.7 L3808.8,2009.3 L3794.3,2024.3 L3792.6,2039.0 L3821.9,2066.0 L3825.0,2106.3 L3773.8,2150.0 L3766.4,2166.7 L3774.3,2179.7 L3760.0,2194.0 L3760.0,2207.7 L3749.5,2204.0 L3738.1,2227.7 L3722.1,2230.0 L3704.8,2217.3 L3698.6,2201.0 L3705.7,2164.3 L3700.0,2133.3 L3681.9,2148.3 L3614.8,2157.0 L3587.4,2199.7 L3572.1,2185.7Z " fill="#2196F3" fill-opacity="0.22" stroke="rgba(255,255,255,0.35)" stroke-width="1.5" stroke-opacity="0.5" data-name="Pendik" data-zone="high" class="dist"/><path d="M3301.9,2058.7 L3307.1,2147.7 L3340.0,2203.3 L3361.4,2203.3 L3357.1,2235.7 L3323.6,2273.0 L3270.5,2294.3 L3226.9,2295.7 L3205.7,2231.7 L3213.8,2213.7 L3201.7,2174.3 L3219.3,2144.7 L3236.9,2057.3 L3245.2,2050.3 L3301.9,2058.7Z " fill="#FF9800" fill-opacity="0.22" stroke="rgba(255,255,255,0.35)" stroke-width="1.5" stroke-opacity="0.5" data-name="Sultanbeyli" data-zone="value" class="dist"/><path d="M3027.1,2337.0 L3105.0,2325.0 L3122.6,2265.0 L3156.2,2226.0 L3166.9,2238.3 L3205.7,2231.7 L3226.9,2295.7 L3213.3,2325.7 L3197.6,2334.7 L3206.4,2397.3 L3185.0,2404.0 L3171.9,2425.7 L3153.6,2408.7 L3150.7,2434.7 L3139.8,2433.0 L3131.9,2473.0 L3067.4,2443.3 L3046.2,2447.7 L3008.8,2412.0 L2962.4,2394.3 L2948.3,2377.7 L2958.6,2355.0 L2970.2,2353.0 L2978.8,2367.7 L3027.1,2337.0Z " fill="#2196F3" fill-opacity="0.22" stroke="rgba(255,255,255,0.35)" stroke-width="1.5" stroke-opacity="0.5" data-name="Kartal" data-zone="high" class="dist"/><path d="M3127.6,2155.3 L3124.5,2147.0 L3093.8,2152.3 L3090.5,2129.0 L3103.6,2122.7 L3077.6,2103.3 L3078.3,2077.7 L3060.5,2037.3 L3082.6,2028.7 L3073.3,2020.7 L3179.3,2010.3 L3187.4,1993.7 L3212.1,1988.3 L3214.8,1973.3 L3251.2,1967.3 L3272.6,1925.7 L3310.2,1891.0 L3333.6,1907.3 L3386.0,1897.0 L3444.3,1906.7 L3446.2,1929.7 L3476.0,1936.0 L3474.3,1952.3 L3485.0,1975.0 L3461.4,1984.3 L3434.8,2013.7 L3323.3,2015.0 L3301.9,2058.7 L3241.0,2051.7 L3219.0,2145.3 L3202.1,2169.3 L3213.8,2213.7 L3205.7,2231.7 L3166.9,2238.3 L3156.2,2226.0 L3134.0,2246.7 L3130.0,2223.0 L3111.9,2197.0 L3127.6,2155.3Z " fill="#FF9800" fill-opacity="0.22" stroke="rgba(255,255,255,0.35)" stroke-width="1.5" stroke-opacity="0.5" data-name="Sancaktepe" data-zone="value" class="dist"/><path d="M3569.3,1754.0 L3548.1,1768.0 L3570.0,1780.3 L3570.5,1792.0 L3558.3,1795.3 L3559.3,1806.7 L3542.4,1821.7 L3547.6,1829.7 L3529.0,1855.0 L3510.5,1874.3 L3479.8,1872.7 L3473.3,1893.0 L3487.1,1919.0 L3476.0,1936.0 L3446.2,1929.7 L3444.3,1906.7 L3386.0,1897.0 L3333.6,1907.3 L3310.2,1891.0 L3272.6,1925.7 L3248.8,1969.3 L3214.8,1973.3 L3212.1,1988.3 L3187.4,1993.7 L3179.3,2010.3 L3106.0,2023.3 L3057.4,2017.3 L3025.0,1965.0 L2986.0,1944.3 L2953.3,1952.7 L2947.4,1931.7 L2957.1,1908.3 L2987.1,1902.0 L3020.0,1879.7 L3087.9,1888.0 L3114.0,1878.3 L3118.8,1870.7 L3100.0,1822.0 L3113.6,1765.0 L3148.6,1744.0 L3147.6,1718.7 L3171.9,1700.0 L3186.0,1725.7 L3201.4,1725.3 L3212.4,1715.0 L3211.9,1696.7 L3221.2,1693.7 L3221.0,1680.0 L3287.9,1664.7 L3298.1,1625.0 L3340.5,1646.7 L3362.1,1647.7 L3380.2,1634.0 L3399.5,1647.0 L3443.8,1634.7 L3454.3,1637.0 L3458.6,1650.0 L3492.6,1657.7 L3506.7,1647.3 L3524.0,1663.0 L3529.8,1703.3 L3574.8,1733.3 L3569.3,1754.0Z " fill="#9C27B0" fill-opacity="0.22" stroke="rgba(255,255,255,0.35)" stroke-width="1.5" stroke-opacity="0.5" data-name="Çekmeköy" data-zone="frontier" class="dist"/><path d="M2894.8,2198.0 L2921.7,2156.7 L2975.2,2158.7 L3005.5,2130.7 L3046.7,2151.7 L3090.5,2129.0 L3093.8,2152.3 L3128.6,2152.7 L3111.9,2197.0 L3130.0,2223.0 L3134.0,2246.7 L3117.6,2276.0 L3105.0,2325.0 L3028.1,2336.0 L2978.8,2367.7 L2970.2,2353.0 L2959.3,2354.7 L2948.3,2377.7 L2923.6,2336.7 L2911.0,2337.0 L2903.1,2325.3 L2911.2,2319.0 L2902.9,2325.0 L2889.8,2304.0 L2896.0,2289.0 L2886.7,2299.7 L2874.3,2258.0 L2864.5,2253.3 L2861.7,2269.3 L2863.8,2252.3 L2844.8,2226.7 L2894.8,2198.0Z " fill="#2196F3" fill-opacity="0.22" stroke="rgba(255,255,255,0.35)" stroke-width="1.5" stroke-opacity="0.5" data-name="Maltepe" data-zone="high" class="dist"/><path d="M2670.2,2072.0 L2707.4,2025.7 L2731.4,2032.7 L2731.4,2061.7 L2839.5,2121.3 L2884.0,2203.0 L2834.5,2229.0 L2844.5,2232.3 L2844.0,2233.3 L2830.5,2228.0 L2826.7,2218.0 L2813.3,2222.3 L2791.4,2208.0 L2781.7,2191.0 L2767.6,2193.3 L2756.4,2189.7 L2735.2,2169.3 L2718.6,2181.3 L2708.3,2170.3 L2695.7,2177.3 L2699.3,2153.7 L2699.8,2163.3 L2710.2,2163.7 L2702.9,2154.0 L2701.7,2145.0 L2713.3,2148.7 L2705.0,2143.3 L2709.8,2137.3 L2699.3,2126.0 L2671.9,2139.0 L2654.3,2091.7 L2667.6,2096.3 L2676.4,2088.0 L2660.7,2079.7 L2656.7,2066.0 L2670.2,2072.0Z " fill="#D4AF37" fill-opacity="0.22" stroke="rgba(255,255,255,0.35)" stroke-width="1.5" stroke-opacity="0.5" data-name="Kadıköy" data-zone="premium" class="dist"/><path d="M2919.5,2157.3 L2891.7,2200.3 L2881.2,2199.7 L2839.5,2121.3 L2793.6,2092.0 L2791.9,2048.0 L2834.3,2035.3 L2890.7,2078.7 L3013.1,2086.3 L3075.0,2101.7 L3103.6,2122.7 L3046.7,2151.7 L3005.5,2130.7 L2975.2,2158.7 L2919.5,2157.3Z " fill="#2196F3" fill-opacity="0.22" stroke="rgba(255,255,255,0.35)" stroke-width="1.5" stroke-opacity="0.5" data-name="Ataşehir" data-zone="high" class="dist"/><path d="M2772.1,1807.0 L2822.4,1861.3 L2817.1,1879.0 L2830.2,1891.7 L2837.4,1932.0 L2826.0,1961.0 L2810.5,1968.7 L2831.9,2035.0 L2791.9,2048.0 L2793.6,2092.0 L2731.4,2061.7 L2731.4,2032.7 L2707.4,2025.7 L2671.0,2071.7 L2646.7,2063.7 L2648.6,2051.7 L2635.0,2042.3 L2643.8,2042.7 L2636.7,2035.0 L2635.5,2030.0 L2642.4,2036.0 L2645.7,2023.3 L2634.0,1992.3 L2742.9,1906.3 L2743.8,1861.7 L2754.8,1845.3 L2751.9,1819.3 L2772.1,1807.0Z " fill="#2196F3" fill-opacity="0.22" stroke="rgba(255,255,255,0.35)" stroke-width="1.5" stroke-opacity="0.5" data-name="Üsküdar" data-zone="high" class="dist"/><path d="M2831.9,2035.0 L2810.5,1968.7 L2826.0,1961.0 L2837.4,1932.0 L2830.2,1891.7 L2817.1,1879.0 L2822.6,1865.7 L2818.1,1854.3 L2839.5,1848.7 L2852.4,1852.7 L2848.6,1862.7 L2876.7,1863.0 L2917.4,1900.3 L2937.6,1889.7 L2950.5,1950.0 L2971.0,1943.7 L3005.0,1951.3 L3026.0,1966.0 L3055.7,2016.3 L3081.0,2022.3 L3082.6,2028.7 L3060.5,2037.3 L3069.8,2046.7 L3079.5,2101.3 L2946.2,2077.0 L2890.7,2078.7 L2831.9,2035.0Z " fill="#2196F3" fill-opacity="0.22" stroke="rgba(255,255,255,0.35)" stroke-width="1.5" stroke-opacity="0.5" data-name="Ümraniye" data-zone="high" class="dist"/><path d="M2813.1,1709.7 L2847.9,1674.3 L2851.9,1656.7 L2836.7,1618.7 L2805.2,1603.7 L2817.9,1598.7 L2788.6,1589.3 L2804.5,1551.7 L2791.4,1529.3 L2794.0,1518.0 L2825.5,1499.7 L2826.2,1471.3 L2887.1,1456.7 L2901.4,1440.7 L2900.2,1399.0 L2931.0,1389.7 L2927.9,1375.3 L2917.6,1384.0 L2928.6,1372.0 L2976.0,1356.7 L2985.7,1334.7 L3004.8,1341.7 L3012.9,1318.3 L3089.5,1332.3 L3095.5,1320.0 L3105.2,1328.3 L3129.0,1321.7 L3135.2,1313.3 L3131.2,1295.7 L3193.8,1307.0 L3229.5,1282.3 L3232.1,1298.0 L3251.0,1296.0 L3256.4,1306.7 L3263.6,1301.3 L3378.6,1344.7 L3410.7,1344.7 L3404.0,1362.7 L3410.5,1388.0 L3388.8,1415.3 L3385.5,1432.3 L3390.5,1506.3 L3395.2,1502.0 L3403.1,1540.7 L3430.5,1528.7 L3441.4,1561.0 L3461.7,1559.0 L3468.6,1567.7 L3461.2,1590.7 L3485.0,1595.7 L3489.0,1614.7 L3478.1,1644.3 L3458.6,1650.0 L3454.3,1637.0 L3443.8,1634.7 L3399.5,1647.0 L3380.2,1634.0 L3362.1,1647.7 L3340.5,1646.7 L3296.2,1626.0 L3287.9,1664.7 L3221.0,1680.0 L3221.2,1693.7 L3211.9,1696.7 L3212.4,1715.0 L3201.4,1725.3 L3186.0,1725.7 L3171.9,1700.0 L3147.6,1718.7 L3148.6,1744.0 L3113.6,1765.0 L3100.0,1822.0 L3118.8,1870.7 L3114.0,1878.3 L3087.9,1888.0 L3020.0,1879.7 L2987.1,1902.0 L2957.1,1908.3 L2948.3,1928.7 L2937.6,1889.7 L2917.4,1900.3 L2876.7,1863.0 L2848.6,1862.7 L2852.4,1852.7 L2839.5,1848.7 L2808.6,1850.0 L2772.1,1807.0 L2778.3,1783.0 L2776.7,1724.3 L2793.6,1710.0 L2813.1,1709.7Z " fill="#9C27B0" fill-opacity="0.22" stroke="rgba(255,255,255,0.35)" stroke-width="1.5" stroke-opacity="0.5" data-name="Beykoz" data-zone="frontier" class="dist"/><path d="M2505.7,1950.3 L2473.8,1902.3 L2494.5,1881.7 L2495.2,1850.7 L2503.1,1849.3 L2499.0,1858.0 L2511.4,1870.3 L2513.1,1887.7 L2528.1,1888.3 L2543.1,1915.0 L2561.4,1914.3 L2609.0,1944.0 L2591.7,1972.7 L2554.3,1994.3 L2541.0,1983.7 L2537.4,1963.0 L2505.7,1950.3Z " fill="#D4AF37" fill-opacity="0.22" stroke="rgba(255,255,255,0.35)" stroke-width="1.5" stroke-opacity="0.5" data-name="Beyoğlu" data-zone="premium" class="dist"/><path d="M2624.8,1896.3 L2616.0,1881.7 L2626.7,1844.0 L2646.9,1857.0 L2656.9,1827.0 L2631.9,1754.7 L2653.6,1711.0 L2674.0,1736.3 L2697.9,1736.0 L2674.5,1752.7 L2719.0,1764.3 L2718.8,1784.0 L2750.2,1787.0 L2749.5,1796.3 L2724.8,1807.7 L2729.8,1840.0 L2706.2,1868.7 L2697.1,1901.0 L2609.0,1944.0 L2602.6,1927.3 L2611.2,1931.0 L2611.4,1908.7 L2624.8,1896.3Z " fill="#D4AF37" fill-opacity="0.22" stroke="rgba(255,255,255,0.35)" stroke-width="1.5" stroke-opacity="0.5" data-name="Beşiktaş" data-zone="premium" class="dist"/><path d="M2576.7,1717.0 L2584.5,1737.0 L2617.1,1729.7 L2628.6,1737.0 L2638.8,1784.3 L2630.7,1786.0 L2636.2,1813.3 L2593.6,1806.0 L2591.4,1825.7 L2577.9,1836.3 L2570.7,1830.7 L2547.1,1852.7 L2527.1,1889.3 L2513.1,1887.7 L2511.4,1870.3 L2498.6,1855.0 L2514.3,1837.0 L2542.9,1765.0 L2509.8,1731.3 L2509.3,1717.0 L2536.9,1706.0 L2543.3,1709.3 L2538.8,1722.7 L2576.7,1717.0Z " fill="#FF9800" fill-opacity="0.22" stroke="rgba(255,255,255,0.35)" stroke-width="1.5" stroke-opacity="0.5" data-name="Kağıthane" data-zone="value" class="dist"/><path d="M2498.6,1192.7 L2511.0,1192.3 L2543.3,1220.0 L2666.2,1249.3 L2698.3,1245.7 L2711.0,1227.0 L2709.8,1211.7 L2724.3,1221.3 L2736.9,1210.0 L2763.6,1216.3 L2772.9,1231.0 L2779.5,1221.3 L2791.0,1227.7 L2791.4,1240.3 L2804.8,1218.0 L2808.8,1237.3 L2820.2,1233.7 L2820.7,1248.0 L2833.8,1240.7 L2837.1,1254.3 L2850.7,1254.3 L2851.7,1266.0 L2864.0,1262.0 L2873.8,1267.7 L2871.9,1276.0 L2886.2,1274.0 L2878.6,1282.3 L2895.7,1286.7 L2892.4,1304.0 L2888.8,1286.3 L2890.5,1301.3 L2872.4,1329.7 L2873.3,1344.0 L2885.2,1352.7 L2869.8,1378.7 L2836.7,1398.7 L2802.6,1448.0 L2792.1,1483.3 L2705.7,1544.3 L2743.8,1576.7 L2757.1,1601.0 L2748.1,1604.7 L2764.5,1614.3 L2789.8,1651.7 L2766.2,1689.7 L2755.2,1683.7 L2748.6,1687.3 L2756.4,1688.3 L2760.5,1702.3 L2745.0,1741.0 L2755.2,1764.0 L2752.4,1794.3 L2749.0,1786.3 L2718.8,1784.0 L2719.0,1764.3 L2674.5,1752.7 L2697.9,1736.0 L2674.0,1736.3 L2653.6,1711.0 L2633.1,1748.0 L2632.9,1766.0 L2623.3,1731.3 L2587.9,1737.7 L2576.7,1717.0 L2538.8,1722.7 L2543.3,1709.3 L2520.2,1689.0 L2529.5,1675.3 L2524.0,1639.7 L2562.6,1572.7 L2561.4,1555.3 L2551.0,1541.7 L2522.1,1544.3 L2518.8,1532.0 L2504.8,1531.7 L2509.8,1421.3 L2501.7,1416.7 L2494.8,1388.7 L2509.0,1335.7 L2469.3,1325.7 L2458.8,1295.7 L2476.9,1229.3 L2498.6,1192.7Z " fill="#D4AF37" fill-opacity="0.22" stroke="rgba(255,255,255,0.35)" stroke-width="1.5" stroke-opacity="0.5" data-name="Sarıyer" data-zone="premium" class="dist"/><path d="M2529.5,1895.7 L2547.1,1852.7 L2570.7,1830.7 L2577.9,1836.3 L2592.4,1825.0 L2593.6,1806.0 L2635.7,1813.7 L2630.7,1786.0 L2638.8,1784.3 L2657.4,1824.7 L2646.9,1857.0 L2626.7,1844.0 L2616.0,1881.7 L2624.3,1898.3 L2614.8,1900.7 L2611.2,1931.0 L2602.6,1927.3 L2602.6,1936.0 L2575.5,1929.0 L2561.4,1914.3 L2543.1,1915.0 L2529.5,1895.7Z " fill="#D4AF37" fill-opacity="0.22" stroke="rgba(255,255,255,0.35)" stroke-width="1.5" stroke-opacity="0.5" data-name="Şişli" data-zone="premium" class="dist"/><path d="M1852.6,1699.3 L1803.3,1737.7 L1769.3,1721.3 L1746.7,1770.7 L1701.2,1672.0 L1689.3,1681.0 L1686.4,1696.3 L1677.6,1692.7 L1676.4,1672.3 L1661.2,1667.3 L1648.8,1636.3 L1644.8,1646.3 L1620.7,1643.3 L1587.6,1686.0 L1577.1,1681.3 L1579.0,1666.3 L1605.7,1637.3 L1590.2,1597.0 L1620.0,1559.7 L1633.1,1520.0 L1646.9,1511.3 L1655.7,1449.0 L1624.8,1342.3 L1625.0,1294.3 L1617.1,1302.0 L1607.6,1287.3 L1614.8,1271.7 L1608.6,1206.7 L1574.0,1196.0 L1549.0,1201.0 L1534.8,1165.7 L1534.5,1147.7 L1552.9,1137.0 L1565.0,1035.3 L1602.6,888.0 L1584.0,846.7 L1510.0,829.7 L1475.5,789.3 L1408.1,766.3 L1412.4,708.0 L1520.2,767.0 L1565.7,781.3 L1613.3,819.0 L1740.0,890.7 L1800.7,902.3 L1841.9,924.0 L1865.2,905.7 L1876.0,916.3 L1866.4,918.0 L1872.1,928.7 L1950.5,970.7 L1977.6,980.7 L2032.1,971.7 L2054.3,989.7 L2070.5,985.0 L2081.7,1008.3 L2107.9,1024.7 L2096.9,1026.7 L2099.5,1039.0 L2117.1,1042.7 L2115.5,1019.7 L2120.0,1028.0 L2117.9,1044.0 L2109.0,1059.3 L2098.3,1134.7 L2086.4,1166.0 L2071.4,1168.7 L2082.9,1205.3 L2093.1,1207.3 L2113.3,1241.3 L2116.2,1277.0 L2136.9,1303.0 L2134.5,1323.0 L2164.0,1333.3 L2192.4,1376.0 L2181.0,1396.3 L2188.3,1411.3 L2185.5,1444.0 L2193.8,1458.3 L2190.0,1482.0 L2175.5,1485.0 L2184.0,1590.3 L2179.0,1612.3 L2120.0,1572.3 L2097.1,1571.0 L2042.1,1628.3 L1999.5,1625.7 L1990.0,1612.0 L1984.5,1649.0 L1969.5,1685.3 L1956.4,1694.0 L1879.3,1648.7 L1861.4,1659.0 L1842.6,1688.3 L1852.6,1699.3Z " fill="#9C27B0" fill-opacity="0.22" stroke="rgba(255,255,255,0.35)" stroke-width="1.5" stroke-opacity="0.5" data-name="Arnavutköy" data-zone="frontier" class="dist"/><path d="M2000.7,1896.3 L2038.1,2132.7 L1995.2,2167.0 L1939.8,2161.7 L1947.6,2169.0 L1903.6,2154.3 L1905.0,2136.0 L1876.0,2100.0 L1867.6,2070.0 L1876.0,2059.3 L1900.7,2066.3 L1909.3,2035.3 L1896.9,2025.3 L1905.2,2015.0 L1909.3,1970.7 L1883.3,1960.7 L1882.4,1945.7 L1898.1,1928.0 L1882.4,1923.0 L1862.6,1883.3 L1907.4,1866.7 L1879.3,1713.0 L1899.5,1729.7 L1918.6,1773.3 L1981.0,1853.0 L2010.2,1859.7 L2000.7,1896.3Z " fill="#4CAF50" fill-opacity="0.22" stroke="rgba(255,255,255,0.35)" stroke-width="1.5" stroke-opacity="0.5" data-name="Avcılar" data-zone="emerging" class="dist"/><path d="M2162.9,1973.3 L2197.4,2000.7 L2233.3,1987.7 L2248.3,1995.3 L2256.0,1985.7 L2258.3,1995.3 L2281.9,1999.0 L2311.0,2046.0 L2335.2,2011.7 L2336.9,2046.0 L2344.8,2062.0 L2271.2,2092.7 L2193.6,2089.7 L2170.7,2064.7 L2157.4,2015.0 L2162.9,1973.3Z " fill="#4CAF50" fill-opacity="0.22" stroke="rgba(255,255,255,0.35)" stroke-width="1.5" stroke-opacity="0.5" data-name="Bahçelievler" data-zone="emerging" class="dist"/><path d="M2236.4,2205.7 L2214.3,2217.7 L2203.6,2209.3 L2196.9,2210.0 L2199.0,2218.3 L2168.3,2213.3 L2083.6,2143.7 L2079.8,2111.3 L2103.3,2115.0 L2124.8,2102.7 L2144.5,2119.0 L2135.7,2078.7 L2150.2,2065.0 L2167.6,2068.0 L2190.2,2089.0 L2259.5,2094.7 L2371.4,2044.3 L2361.7,2067.3 L2367.1,2081.3 L2359.3,2140.3 L2355.5,2134.3 L2325.7,2152.7 L2329.8,2158.7 L2320.0,2169.3 L2332.6,2158.7 L2321.0,2171.0 L2299.5,2154.3 L2266.2,2152.0 L2260.2,2159.7 L2266.4,2166.3 L2254.0,2164.3 L2236.4,2205.7Z " fill="#D4AF37" fill-opacity="0.22" stroke="rgba(255,255,255,0.35)" stroke-width="1.5" stroke-opacity="0.5" data-name="Bakırköy" data-zone="premium" class="dist"/><path d="M2347.6,1879.0 L2329.5,1829.7 L2330.2,1809.0 L2367.6,1835.3 L2403.3,1881.7 L2438.6,1971.3 L2428.3,1980.7 L2409.3,1958.3 L2378.8,1974.3 L2369.3,1948.7 L2345.0,1921.7 L2347.6,1879.0Z " fill="#FF9800" fill-opacity="0.22" stroke="rgba(255,255,255,0.35)" stroke-width="1.5" stroke-opacity="0.5" data-name="Bayrampaşa" data-zone="value" class="dist"/><path d="M2178.1,1829.3 L2214.3,1833.0 L2246.7,1850.0 L2270.7,1826.0 L2286.4,1828.7 L2276.9,1843.3 L2273.3,1885.7 L2285.2,1904.7 L2288.3,1932.3 L2312.4,1938.7 L2315.7,1973.7 L2283.6,1971.0 L2293.1,2003.0 L2286.0,2008.0 L2281.9,1999.0 L2258.3,1995.3 L2256.0,1985.7 L2248.3,1995.3 L2233.3,1987.7 L2197.4,2000.7 L2176.2,1985.3 L2169.0,1976.0 L2161.9,1911.7 L2178.1,1829.3Z " fill="#4CAF50" fill-opacity="0.22" stroke="rgba(255,255,255,0.35)" stroke-width="1.5" stroke-opacity="0.5" data-name="Bağcılar" data-zone="emerging" class="dist"/><path d="M1893.1,1723.3 L1879.3,1713.0 L1907.4,1866.7 L1884.8,1874.0 L1839.5,1851.3 L1798.1,1812.7 L1789.3,1779.3 L1761.0,1739.7 L1769.3,1721.3 L1807.1,1735.7 L1852.6,1699.3 L1842.6,1688.3 L1861.4,1659.0 L1879.3,1648.7 L1956.4,1694.0 L1969.5,1685.3 L1984.5,1649.0 L1990.0,1612.0 L1999.5,1625.7 L2042.1,1628.3 L2100.7,1570.0 L2120.0,1572.3 L2168.8,1612.3 L2202.1,1615.0 L2210.0,1633.7 L2250.5,1670.0 L2250.2,1690.3 L2263.3,1725.7 L2223.3,1837.3 L2179.5,1826.0 L2170.5,1862.3 L2121.4,1853.0 L2032.4,1863.3 L1981.0,1853.0 L1918.6,1773.3 L1893.1,1723.3Z " fill="#2196F3" fill-opacity="0.22" stroke="rgba(255,255,255,0.35)" stroke-width="1.5" stroke-opacity="0.5" data-name="Başakşehir" data-zone="high" class="dist"/><path d="M1696.7,2094.3 L1728.1,2034.3 L1729.5,2011.0 L1746.2,2005.0 L1819.3,2043.7 L1871.2,2054.0 L1876.0,2059.3 L1867.6,2070.0 L1875.2,2098.7 L1905.0,2136.0 L1903.8,2156.7 L1868.6,2170.7 L1867.9,2190.3 L1866.0,2177.3 L1861.7,2190.3 L1857.1,2178.3 L1856.9,2189.0 L1853.8,2173.7 L1849.0,2195.7 L1847.4,2184.0 L1844.3,2195.3 L1831.2,2189.3 L1837.9,2209.3 L1803.8,2194.0 L1821.2,2191.0 L1804.8,2188.0 L1795.5,2189.7 L1803.6,2198.0 L1790.7,2190.7 L1720.0,2197.7 L1662.1,2178.0 L1667.4,2186.3 L1658.1,2186.0 L1671.4,2190.3 L1657.6,2187.0 L1660.5,2167.7 L1664.5,2170.7 L1654.5,2154.7 L1664.3,2131.0 L1659.5,2076.7 L1678.6,2075.0 L1696.7,2094.3Z " fill="#4CAF50" fill-opacity="0.22" stroke="rgba(255,255,255,0.35)" stroke-width="1.5" stroke-opacity="0.5" data-name="Beylikdüzü" data-zone="emerging" class="dist"/><path d="M2346.4,1953.3 L2325.0,1960.7 L2315.5,1938.3 L2284.0,1924.3 L2273.3,1865.7 L2286.4,1828.7 L2270.7,1826.0 L2246.7,1850.0 L2223.3,1837.3 L2245.5,1789.0 L2263.3,1727.7 L2261.9,1707.7 L2293.1,1764.0 L2330.2,1809.0 L2329.5,1829.7 L2346.9,1868.3 L2345.0,1920.7 L2372.9,1954.7 L2378.8,2002.3 L2349.5,2008.7 L2346.2,1991.3 L2359.3,1969.7 L2346.4,1953.3Z " fill="#FF9800" fill-opacity="0.22" stroke="rgba(255,255,255,0.35)" stroke-width="1.5" stroke-opacity="0.5" data-name="Esenler" data-zone="value" class="dist"/><path d="M1799.0,1813.7 L1839.5,1851.3 L1883.6,1871.0 L1862.6,1883.3 L1882.4,1923.0 L1898.1,1928.0 L1882.4,1945.7 L1883.3,1960.7 L1909.3,1970.7 L1905.2,2015.0 L1896.9,2025.3 L1909.3,2035.3 L1900.7,2066.3 L1883.6,2066.3 L1861.4,2048.0 L1819.3,2043.7 L1735.2,1996.7 L1722.4,1950.3 L1732.6,1920.7 L1733.3,1888.7 L1715.5,1840.7 L1734.5,1781.7 L1761.0,1739.7 L1789.3,1779.3 L1799.0,1813.7Z " fill="#FF9800" fill-opacity="0.22" stroke="rgba(255,255,255,0.35)" stroke-width="1.5" stroke-opacity="0.5" data-name="Esenyurt" data-zone="value" class="dist"/><path d="M2505.2,1524.0 L2522.1,1544.3 L2543.1,1539.7 L2561.4,1555.3 L2562.1,1575.7 L2523.1,1642.7 L2529.5,1675.3 L2520.2,1689.0 L2536.9,1706.0 L2509.3,1717.0 L2509.8,1731.3 L2541.2,1760.3 L2542.6,1778.3 L2533.3,1781.7 L2512.9,1839.7 L2492.9,1855.3 L2485.2,1850.7 L2491.7,1877.0 L2466.0,1892.7 L2473.8,1921.7 L2487.1,1930.7 L2451.4,1985.3 L2431.4,1963.3 L2418.1,1923.3 L2425.0,1925.3 L2406.9,1894.7 L2420.2,1882.0 L2445.7,1885.7 L2474.3,1868.3 L2468.1,1869.0 L2466.4,1847.3 L2457.4,1836.0 L2431.2,1844.3 L2413.6,1826.7 L2422.1,1818.0 L2417.1,1804.0 L2435.0,1756.3 L2421.4,1742.3 L2427.6,1724.3 L2421.7,1718.0 L2430.5,1703.0 L2424.0,1686.7 L2406.0,1686.3 L2397.1,1659.0 L2384.8,1662.7 L2396.4,1651.0 L2379.0,1622.7 L2357.6,1609.3 L2345.5,1583.0 L2321.2,1592.3 L2323.3,1565.7 L2301.4,1560.7 L2302.1,1542.7 L2289.3,1534.0 L2244.5,1563.0 L2221.2,1593.3 L2222.1,1621.3 L2179.0,1612.3 L2184.0,1590.3 L2175.5,1485.0 L2190.0,1482.0 L2193.8,1458.3 L2185.5,1444.0 L2188.3,1411.3 L2181.0,1396.3 L2192.4,1376.0 L2164.0,1333.3 L2134.5,1323.0 L2136.9,1303.0 L2116.2,1277.0 L2113.3,1241.3 L2093.1,1207.3 L2082.9,1205.3 L2071.4,1168.7 L2086.4,1166.0 L2098.3,1134.7 L2112.9,1049.3 L2137.4,1060.0 L2152.1,1055.3 L2190.2,1092.3 L2251.2,1109.0 L2318.3,1143.3 L2432.9,1160.3 L2498.6,1192.7 L2476.9,1229.3 L2458.6,1293.3 L2469.3,1325.7 L2509.0,1335.7 L2494.8,1388.7 L2501.7,1416.7 L2509.8,1421.3 L2505.2,1524.0Z " fill="#FF9800" fill-opacity="0.22" stroke="rgba(255,255,255,0.35)" stroke-width="1.5" stroke-opacity="0.5" data-name="Eyüpsultan" data-zone="value" class="dist"/><path d="M2538.1,2001.0 L2586.9,2008.7 L2590.7,2023.3 L2585.7,2045.7 L2568.3,2062.7 L2509.8,2059.3 L2508.8,2069.3 L2526.4,2072.3 L2490.7,2079.3 L2474.8,2072.3 L2473.3,2061.0 L2451.4,2097.0 L2426.4,2107.0 L2432.9,2013.0 L2476.2,1955.7 L2480.2,1934.3 L2487.6,1930.3 L2500.2,1960.0 L2538.1,2001.0Z " fill="#D4AF37" fill-opacity="0.22" stroke="rgba(255,255,255,0.35)" stroke-width="1.5" stroke-opacity="0.5" data-name="Fatih" data-zone="premium" class="dist"/><path d="M2474.3,1868.3 L2433.6,1888.7 L2420.2,1882.0 L2406.9,1894.7 L2381.9,1849.7 L2319.8,1794.7 L2355.0,1766.0 L2431.2,1752.0 L2417.1,1804.0 L2422.1,1818.0 L2413.1,1824.3 L2431.2,1844.3 L2457.4,1836.0 L2466.4,1847.3 L2468.1,1869.0 L2474.3,1868.3Z " fill="#FF9800" fill-opacity="0.22" stroke="rgba(255,255,255,0.35)" stroke-width="1.5" stroke-opacity="0.5" data-name="Gaziosmanpaşa" data-zone="value" class="dist"/><path d="M2346.4,1953.3 L2359.3,1969.7 L2346.2,1991.3 L2349.5,2008.7 L2383.1,2001.0 L2371.4,2044.3 L2344.8,2062.0 L2336.9,2046.0 L2335.2,2011.7 L2311.0,2046.0 L2286.0,2008.0 L2293.1,2003.0 L2283.3,1974.7 L2293.1,1967.3 L2315.0,1974.3 L2312.4,1938.7 L2325.0,1960.7 L2346.4,1953.3Z " fill="#4CAF50" fill-opacity="0.22" stroke="rgba(255,255,255,0.35)" stroke-width="1.5" stroke-opacity="0.5" data-name="Güngören" data-zone="emerging" class="dist"/><path d="M2348.3,1768.7 L2319.8,1794.7 L2251.0,1692.3 L2250.5,1670.0 L2210.0,1633.7 L2202.1,1615.0 L2222.1,1621.3 L2221.2,1593.3 L2244.5,1563.0 L2289.3,1534.0 L2302.1,1542.7 L2301.4,1560.7 L2323.3,1565.7 L2321.2,1592.3 L2345.5,1583.0 L2352.9,1603.3 L2379.0,1622.7 L2396.4,1651.0 L2384.8,1662.7 L2397.1,1659.0 L2406.0,1686.3 L2424.0,1686.7 L2430.5,1703.0 L2421.7,1718.0 L2427.6,1724.3 L2421.4,1742.3 L2431.2,1752.0 L2348.3,1768.7Z " fill="#FF9800" fill-opacity="0.22" stroke="rgba(255,255,255,0.35)" stroke-width="1.5" stroke-opacity="0.5" data-name="Sultangazi" data-zone="value" class="dist"/><path d="M2388.1,2135.7 L2360.2,2130.0 L2364.5,2133.0 L2361.0,2140.3 L2356.9,2126.3 L2367.1,2081.3 L2361.7,2067.3 L2380.7,2022.0 L2378.8,1974.3 L2409.3,1958.3 L2428.3,1980.7 L2438.6,1971.3 L2451.0,1984.7 L2432.9,2013.0 L2426.4,2107.0 L2388.1,2135.7Z " fill="#4CAF50" fill-opacity="0.22" stroke="rgba(255,255,255,0.35)" stroke-width="1.5" stroke-opacity="0.5" data-name="Zeytinburnu" data-zone="emerging" class="dist"/><path d="M2037.1,2128.3 L1999.5,1918.0 L2010.2,1859.7 L2121.4,1853.0 L2170.5,1862.3 L2161.9,1911.7 L2169.0,1976.0 L2162.9,1973.3 L2157.1,2013.0 L2170.7,2064.7 L2193.6,2089.7 L2150.2,2065.0 L2135.7,2078.7 L2144.5,2119.0 L2124.8,2102.7 L2103.3,2115.0 L2079.8,2111.3 L2084.0,2120.0 L2085.0,2125.0 L2083.8,2142.0 L2078.1,2131.0 L2085.0,2126.7 L2083.8,2120.7 L2078.3,2113.0 L2075.7,2102.7 L2071.9,2100.7 L2084.0,2125.3 L2070.0,2127.0 L2077.1,2129.0 L2082.9,2143.3 L2067.4,2133.7 L2065.7,2118.0 L2054.5,2132.7 L2037.1,2128.3Z " fill="#4CAF50" fill-opacity="0.22" stroke="rgba(255,255,255,0.35)" stroke-width="1.5" stroke-opacity="0.5" data-name="Küçükçekmece" data-zone="emerging" class="dist"/>`;
  g.querySelectorAll('.dist').forEach(p=>{
    const name=p.getAttribute('data-name');const zone=p.getAttribute('data-zone');
    p.addEventListener('mouseenter',e=>stt(e,name+' District',zoneLabels[zone]||zone,zoneColors[zone]||'#999'));
    p.addEventListener('mouseleave',htt);
    p.addEventListener('touchstart',e=>{e.preventDefault();stt(e,name+' District',zoneLabels[zone]||zone,zoneColors[zone]||'#999')});
  });
  svg.appendChild(g);
  const lg=ns('g');lg.id='DLBL';
  lg.innerHTML=`<rect x="2788.1" y="2463.3" width="90" height="40" rx="8" fill="#9C27B0" opacity="0.1" class="dlabel"/><rect x="2790.1" y="2465.3" width="86" height="36" rx="6" fill="rgba(8,18,38,0.9)" stroke="#9C27B0" stroke-width="1.2" stroke-opacity="0.5" class="dlabel"/><rect x="2796.1" y="2465.8" width="74" height="2.5" rx="1.2" fill="#9C27B0" opacity="0.7" class="dlabel"/><text x="2833.3" y="2485.3" text-anchor="middle" dominant-baseline="middle" fill="#fff" font-size="18" font-weight="800" font-family="Playfair Display,serif" letter-spacing="1" class="dlabel">Adalar</text><rect x="4008.0" y="1711.3" width="79" height="44" rx="8" fill="#9C27B0" opacity="0.1" class="dlabel"/><rect x="4010.0" y="1713.3" width="75" height="40" rx="6" fill="rgba(8,18,38,0.9)" stroke="#9C27B0" stroke-width="1.2" stroke-opacity="0.5" class="dlabel"/><rect x="4016.0" y="1713.8" width="63" height="2.5" rx="1.2" fill="#9C27B0" opacity="0.7" class="dlabel"/><text x="4047.6" y="1735.3" text-anchor="middle" dominant-baseline="middle" fill="#fff" font-size="22" font-weight="800" font-family="Playfair Display,serif" letter-spacing="1" class="dlabel">Şile</text><rect x="608.5" y="1511.3" width="116" height="44" rx="8" fill="#9C27B0" opacity="0.1" class="dlabel"/><rect x="610.5" y="1513.3" width="112" height="40" rx="6" fill="rgba(8,18,38,0.9)" stroke="#9C27B0" stroke-width="1.2" stroke-opacity="0.5" class="dlabel"/><rect x="616.5" y="1513.8" width="100" height="2.5" rx="1.2" fill="#9C27B0" opacity="0.7" class="dlabel"/><text x="666.7" y="1535.3" text-anchor="middle" dominant-baseline="middle" fill="#fff" font-size="22" font-weight="800" font-family="Playfair Display,serif" letter-spacing="1" class="dlabel">Silivri</text><rect x="1482.5" y="1911.3" width="178" height="44" rx="8" fill="#9C27B0" opacity="0.1" class="dlabel"/><rect x="1484.5" y="1913.3" width="174" height="40" rx="6" fill="rgba(8,18,38,0.9)" stroke="#9C27B0" stroke-width="1.2" stroke-opacity="0.5" class="dlabel"/><rect x="1490.5" y="1913.8" width="162" height="2.5" rx="1.2" fill="#9C27B0" opacity="0.7" class="dlabel"/><text x="1571.4" y="1935.3" text-anchor="middle" dominant-baseline="middle" fill="#fff" font-size="22" font-weight="800" font-family="Playfair Display,serif" letter-spacing="1" class="dlabel">Büyükçekmece</text><rect x="941.9" y="878.0" width="116" height="44" rx="8" fill="#9C27B0" opacity="0.1" class="dlabel"/><rect x="943.9" y="880.0" width="112" height="40" rx="6" fill="rgba(8,18,38,0.9)" stroke="#9C27B0" stroke-width="1.2" stroke-opacity="0.5" class="dlabel"/><rect x="949.9" y="880.5" width="100" height="2.5" rx="1.2" fill="#9C27B0" opacity="0.7" class="dlabel"/><text x="1000.0" y="902.0" text-anchor="middle" dominant-baseline="middle" fill="#fff" font-size="22" font-weight="800" font-family="Playfair Display,serif" letter-spacing="1" class="dlabel">Çatalca</text><rect x="3412.2" y="2446.7" width="80" height="40" rx="8" fill="#4CAF50" opacity="0.1" class="dlabel"/><rect x="3414.2" y="2448.7" width="76" height="36" rx="6" fill="rgba(8,18,38,0.9)" stroke="#4CAF50" stroke-width="1.2" stroke-opacity="0.5" class="dlabel"/><rect x="3420.2" y="2449.2" width="64" height="2.5" rx="1.2" fill="#4CAF50" opacity="0.7" class="dlabel"/><text x="3452.4" y="2468.7" text-anchor="middle" dominant-baseline="middle" fill="#fff" font-size="18" font-weight="800" font-family="Playfair Display,serif" letter-spacing="1" class="dlabel">Tuzla</text><rect x="3186.1" y="2178.0" width="104" height="44" rx="8" fill="#2196F3" opacity="0.1" class="dlabel"/><rect x="3188.1" y="2180.0" width="100" height="40" rx="6" fill="rgba(8,18,38,0.9)" stroke="#2196F3" stroke-width="1.2" stroke-opacity="0.5" class="dlabel"/><rect x="3194.1" y="2180.5" width="88" height="2.5" rx="1.2" fill="#2196F3" opacity="0.7" class="dlabel"/><text x="3238.1" y="2202.0" text-anchor="middle" dominant-baseline="middle" fill="#fff" font-size="22" font-weight="800" font-family="Playfair Display,serif" letter-spacing="1" class="dlabel">Pendik</text><rect x="3191.5" y="2146.7" width="141" height="40" rx="8" fill="#FF9800" opacity="0.1" class="dlabel"/><rect x="3193.5" y="2148.7" width="137" height="36" rx="6" fill="rgba(8,18,38,0.9)" stroke="#FF9800" stroke-width="1.2" stroke-opacity="0.5" class="dlabel"/><rect x="3199.5" y="2149.2" width="125" height="2.5" rx="1.2" fill="#FF9800" opacity="0.7" class="dlabel"/><text x="3261.9" y="2168.7" text-anchor="middle" dominant-baseline="middle" fill="#fff" font-size="18" font-weight="800" font-family="Playfair Display,serif" letter-spacing="1" class="dlabel">Sultanbeyli</text><rect x="3026.2" y="2313.3" width="90" height="40" rx="8" fill="#2196F3" opacity="0.1" class="dlabel"/><rect x="3028.2" y="2315.3" width="86" height="36" rx="6" fill="rgba(8,18,38,0.9)" stroke="#2196F3" stroke-width="1.2" stroke-opacity="0.5" class="dlabel"/><rect x="3034.2" y="2315.8" width="74" height="2.5" rx="1.2" fill="#2196F3" opacity="0.7" class="dlabel"/><text x="3071.4" y="2335.3" text-anchor="middle" dominant-baseline="middle" fill="#fff" font-size="18" font-weight="800" font-family="Playfair Display,serif" letter-spacing="1" class="dlabel">Kartal</text><rect x="3125.1" y="1980.0" width="131" height="40" rx="8" fill="#FF9800" opacity="0.1" class="dlabel"/><rect x="3127.1" y="1982.0" width="127" height="36" rx="6" fill="rgba(8,18,38,0.9)" stroke="#FF9800" stroke-width="1.2" stroke-opacity="0.5" class="dlabel"/><rect x="3133.1" y="1982.5" width="115" height="2.5" rx="1.2" fill="#FF9800" opacity="0.7" class="dlabel"/><text x="3190.5" y="2002.0" text-anchor="middle" dominant-baseline="middle" fill="#fff" font-size="18" font-weight="800" font-family="Playfair Display,serif" letter-spacing="1" class="dlabel">Sancaktepe</text><rect x="3039.9" y="1780.0" width="111" height="40" rx="8" fill="#9C27B0" opacity="0.1" class="dlabel"/><rect x="3041.9" y="1782.0" width="107" height="36" rx="6" fill="rgba(8,18,38,0.9)" stroke="#9C27B0" stroke-width="1.2" stroke-opacity="0.5" class="dlabel"/><rect x="3047.9" y="1782.5" width="95" height="2.5" rx="1.2" fill="#9C27B0" opacity="0.7" class="dlabel"/><text x="3095.2" y="1802.0" text-anchor="middle" dominant-baseline="middle" fill="#fff" font-size="18" font-weight="800" font-family="Playfair Display,serif" letter-spacing="1" class="dlabel">Çekmeköy</text><rect x="2878.3" y="2213.3" width="101" height="40" rx="8" fill="#2196F3" opacity="0.1" class="dlabel"/><rect x="2880.3" y="2215.3" width="97" height="36" rx="6" fill="rgba(8,18,38,0.9)" stroke="#2196F3" stroke-width="1.2" stroke-opacity="0.5" class="dlabel"/><rect x="2886.3" y="2215.8" width="85" height="2.5" rx="1.2" fill="#2196F3" opacity="0.7" class="dlabel"/><text x="2928.6" y="2235.3" text-anchor="middle" dominant-baseline="middle" fill="#fff" font-size="18" font-weight="800" font-family="Playfair Display,serif" letter-spacing="1" class="dlabel">Maltepe</text><rect x="2640.2" y="2080.0" width="101" height="40" rx="8" fill="#D4AF37" opacity="0.1" class="dlabel"/><rect x="2642.2" y="2082.0" width="97" height="36" rx="6" fill="rgba(8,18,38,0.9)" stroke="#D4AF37" stroke-width="1.2" stroke-opacity="0.5" class="dlabel"/><rect x="2648.2" y="2082.5" width="85" height="2.5" rx="1.2" fill="#D4AF37" opacity="0.7" class="dlabel"/><text x="2690.5" y="2102.0" text-anchor="middle" dominant-baseline="middle" fill="#fff" font-size="18" font-weight="800" font-family="Playfair Display,serif" letter-spacing="1" class="dlabel">Kadıköy</text><rect x="2801.8" y="2046.7" width="111" height="40" rx="8" fill="#2196F3" opacity="0.1" class="dlabel"/><rect x="2803.8" y="2048.7" width="107" height="36" rx="6" fill="rgba(8,18,38,0.9)" stroke="#2196F3" stroke-width="1.2" stroke-opacity="0.5" class="dlabel"/><rect x="2809.8" y="2049.2" width="95" height="2.5" rx="1.2" fill="#2196F3" opacity="0.7" class="dlabel"/><text x="2857.1" y="2068.7" text-anchor="middle" dominant-baseline="middle" fill="#fff" font-size="18" font-weight="800" font-family="Playfair Display,serif" letter-spacing="1" class="dlabel">Ataşehir</text><rect x="2664.0" y="1913.3" width="101" height="40" rx="8" fill="#2196F3" opacity="0.1" class="dlabel"/><rect x="2666.0" y="1915.3" width="97" height="36" rx="6" fill="rgba(8,18,38,0.9)" stroke="#2196F3" stroke-width="1.2" stroke-opacity="0.5" class="dlabel"/><rect x="2672.0" y="1915.8" width="85" height="2.5" rx="1.2" fill="#2196F3" opacity="0.7" class="dlabel"/><text x="2714.3" y="1935.3" text-anchor="middle" dominant-baseline="middle" fill="#fff" font-size="18" font-weight="800" font-family="Playfair Display,serif" letter-spacing="1" class="dlabel">Üsküdar</text><rect x="2801.8" y="1913.3" width="111" height="40" rx="8" fill="#2196F3" opacity="0.1" class="dlabel"/><rect x="2803.8" y="1915.3" width="107" height="36" rx="6" fill="rgba(8,18,38,0.9)" stroke="#2196F3" stroke-width="1.2" stroke-opacity="0.5" class="dlabel"/><rect x="2809.8" y="1915.8" width="95" height="2.5" rx="1.2" fill="#2196F3" opacity="0.7" class="dlabel"/><text x="2857.1" y="1935.3" text-anchor="middle" dominant-baseline="middle" fill="#fff" font-size="18" font-weight="800" font-family="Playfair Display,serif" letter-spacing="1" class="dlabel">Ümraniye</text><rect x="2852.8" y="1644.7" width="104" height="44" rx="8" fill="#9C27B0" opacity="0.1" class="dlabel"/><rect x="2854.8" y="1646.7" width="100" height="40" rx="6" fill="rgba(8,18,38,0.9)" stroke="#9C27B0" stroke-width="1.2" stroke-opacity="0.5" class="dlabel"/><rect x="2860.8" y="1647.2" width="88" height="2.5" rx="1.2" fill="#9C27B0" opacity="0.7" class="dlabel"/><text x="2904.8" y="1668.7" text-anchor="middle" dominant-baseline="middle" fill="#fff" font-size="22" font-weight="800" font-family="Playfair Display,serif" letter-spacing="1" class="dlabel">Beykoz</text><rect x="2503.2" y="1914.8" width="89" height="37" rx="8" fill="#D4AF37" opacity="0.1" class="dlabel"/><rect x="2505.2" y="1916.8" width="85" height="33" rx="6" fill="rgba(8,18,38,0.9)" stroke="#D4AF37" stroke-width="1.2" stroke-opacity="0.5" class="dlabel"/><rect x="2511.2" y="1917.3" width="73" height="2.5" rx="1.2" fill="#D4AF37" opacity="0.7" class="dlabel"/><text x="2547.6" y="1935.3" text-anchor="middle" dominant-baseline="middle" fill="#fff" font-size="15" font-weight="800" font-family="Playfair Display,serif" letter-spacing="1" class="dlabel">Beyoğlu</text><rect x="2611.3" y="1846.7" width="111" height="40" rx="8" fill="#D4AF37" opacity="0.1" class="dlabel"/><rect x="2613.3" y="1848.7" width="107" height="36" rx="6" fill="rgba(8,18,38,0.9)" stroke="#D4AF37" stroke-width="1.2" stroke-opacity="0.5" class="dlabel"/><rect x="2619.3" y="1849.2" width="95" height="2.5" rx="1.2" fill="#D4AF37" opacity="0.7" class="dlabel"/><text x="2666.7" y="1868.7" text-anchor="middle" dominant-baseline="middle" fill="#fff" font-size="18" font-weight="800" font-family="Playfair Display,serif" letter-spacing="1" class="dlabel">Beşiktaş</text><rect x="2487.3" y="1780.0" width="121" height="40" rx="8" fill="#FF9800" opacity="0.1" class="dlabel"/><rect x="2489.3" y="1782.0" width="117" height="36" rx="6" fill="rgba(8,18,38,0.9)" stroke="#FF9800" stroke-width="1.2" stroke-opacity="0.5" class="dlabel"/><rect x="2495.3" y="1782.5" width="105" height="2.5" rx="1.2" fill="#FF9800" opacity="0.7" class="dlabel"/><text x="2547.6" y="1802.0" text-anchor="middle" dominant-baseline="middle" fill="#fff" font-size="18" font-weight="800" font-family="Playfair Display,serif" letter-spacing="1" class="dlabel">Kağıthane</text><rect x="2568.8" y="1480.0" width="101" height="40" rx="8" fill="#D4AF37" opacity="0.1" class="dlabel"/><rect x="2570.8" y="1482.0" width="97" height="36" rx="6" fill="rgba(8,18,38,0.9)" stroke="#D4AF37" stroke-width="1.2" stroke-opacity="0.5" class="dlabel"/><rect x="2576.8" y="1482.5" width="85" height="2.5" rx="1.2" fill="#D4AF37" opacity="0.7" class="dlabel"/><text x="2619.0" y="1502.0" text-anchor="middle" dominant-baseline="middle" fill="#fff" font-size="18" font-weight="800" font-family="Playfair Display,serif" letter-spacing="1" class="dlabel">Sarıyer</text><rect x="2531.2" y="1846.7" width="80" height="40" rx="8" fill="#D4AF37" opacity="0.1" class="dlabel"/><rect x="2533.2" y="1848.7" width="76" height="36" rx="6" fill="rgba(8,18,38,0.9)" stroke="#D4AF37" stroke-width="1.2" stroke-opacity="0.5" class="dlabel"/><rect x="2539.2" y="1849.2" width="64" height="2.5" rx="1.2" fill="#D4AF37" opacity="0.7" class="dlabel"/><text x="2571.4" y="1868.7" text-anchor="middle" dominant-baseline="middle" fill="#fff" font-size="18" font-weight="800" font-family="Playfair Display,serif" letter-spacing="1" class="dlabel">Şişli</text><rect x="1875.8" y="1211.3" width="153" height="44" rx="8" fill="#9C27B0" opacity="0.1" class="dlabel"/><rect x="1877.8" y="1213.3" width="149" height="40" rx="6" fill="rgba(8,18,38,0.9)" stroke="#9C27B0" stroke-width="1.2" stroke-opacity="0.5" class="dlabel"/><rect x="1883.8" y="1213.8" width="137" height="2.5" rx="1.2" fill="#9C27B0" opacity="0.7" class="dlabel"/><text x="1952.4" y="1235.3" text-anchor="middle" dominant-baseline="middle" fill="#fff" font-size="22" font-weight="800" font-family="Playfair Display,serif" letter-spacing="1" class="dlabel">Arnavutköy</text><rect x="1925.9" y="1980.0" width="101" height="40" rx="8" fill="#4CAF50" opacity="0.1" class="dlabel"/><rect x="1927.9" y="1982.0" width="97" height="36" rx="6" fill="rgba(8,18,38,0.9)" stroke="#4CAF50" stroke-width="1.2" stroke-opacity="0.5" class="dlabel"/><rect x="1933.9" y="1982.5" width="85" height="2.5" rx="1.2" fill="#4CAF50" opacity="0.7" class="dlabel"/><text x="1976.2" y="2002.0" text-anchor="middle" dominant-baseline="middle" fill="#fff" font-size="18" font-weight="800" font-family="Playfair Display,serif" letter-spacing="1" class="dlabel">Avcılar</text><rect x="2162.6" y="2013.3" width="151" height="40" rx="8" fill="#4CAF50" opacity="0.1" class="dlabel"/><rect x="2164.6" y="2015.3" width="147" height="36" rx="6" fill="rgba(8,18,38,0.9)" stroke="#4CAF50" stroke-width="1.2" stroke-opacity="0.5" class="dlabel"/><rect x="2170.6" y="2015.8" width="135" height="2.5" rx="1.2" fill="#4CAF50" opacity="0.7" class="dlabel"/><text x="2238.1" y="2035.3" text-anchor="middle" dominant-baseline="middle" fill="#fff" font-size="18" font-weight="800" font-family="Playfair Display,serif" letter-spacing="1" class="dlabel">Bahçelievler</text><rect x="2237.1" y="2114.8" width="97" height="37" rx="8" fill="#D4AF37" opacity="0.1" class="dlabel"/><rect x="2239.1" y="2116.8" width="93" height="33" rx="6" fill="rgba(8,18,38,0.9)" stroke="#D4AF37" stroke-width="1.2" stroke-opacity="0.5" class="dlabel"/><rect x="2245.1" y="2117.3" width="81" height="2.5" rx="1.2" fill="#D4AF37" opacity="0.7" class="dlabel"/><text x="2285.7" y="2135.3" text-anchor="middle" dominant-baseline="middle" fill="#fff" font-size="15" font-weight="800" font-family="Playfair Display,serif" letter-spacing="1" class="dlabel">Bakırköy</text><rect x="2324.0" y="1848.2" width="114" height="37" rx="8" fill="#FF9800" opacity="0.1" class="dlabel"/><rect x="2326.0" y="1850.2" width="110" height="33" rx="6" fill="rgba(8,18,38,0.9)" stroke="#FF9800" stroke-width="1.2" stroke-opacity="0.5" class="dlabel"/><rect x="2332.0" y="1850.7" width="98" height="2.5" rx="1.2" fill="#FF9800" opacity="0.7" class="dlabel"/><text x="2381.0" y="1868.7" text-anchor="middle" dominant-baseline="middle" fill="#fff" font-size="15" font-weight="800" font-family="Playfair Display,serif" letter-spacing="1" class="dlabel">Bayrampaşa</text><rect x="2182.8" y="1913.3" width="111" height="40" rx="8" fill="#4CAF50" opacity="0.1" class="dlabel"/><rect x="2184.8" y="1915.3" width="107" height="36" rx="6" fill="rgba(8,18,38,0.9)" stroke="#4CAF50" stroke-width="1.2" stroke-opacity="0.5" class="dlabel"/><rect x="2190.8" y="1915.8" width="95" height="2.5" rx="1.2" fill="#4CAF50" opacity="0.7" class="dlabel"/><text x="2238.1" y="1935.3" text-anchor="middle" dominant-baseline="middle" fill="#fff" font-size="18" font-weight="800" font-family="Playfair Display,serif" letter-spacing="1" class="dlabel">Bağcılar</text><rect x="2125.1" y="1713.3" width="131" height="40" rx="8" fill="#2196F3" opacity="0.1" class="dlabel"/><rect x="2127.1" y="1715.3" width="127" height="36" rx="6" fill="rgba(8,18,38,0.9)" stroke="#2196F3" stroke-width="1.2" stroke-opacity="0.5" class="dlabel"/><rect x="2133.1" y="1715.8" width="115" height="2.5" rx="1.2" fill="#2196F3" opacity="0.7" class="dlabel"/><text x="2190.5" y="1735.3" text-anchor="middle" dominant-baseline="middle" fill="#fff" font-size="18" font-weight="800" font-family="Playfair Display,serif" letter-spacing="1" class="dlabel">Başakşehir</text><rect x="1720.3" y="2046.7" width="131" height="40" rx="8" fill="#4CAF50" opacity="0.1" class="dlabel"/><rect x="1722.3" y="2048.7" width="127" height="36" rx="6" fill="rgba(8,18,38,0.9)" stroke="#4CAF50" stroke-width="1.2" stroke-opacity="0.5" class="dlabel"/><rect x="1728.3" y="2049.2" width="115" height="2.5" rx="1.2" fill="#4CAF50" opacity="0.7" class="dlabel"/><text x="1785.7" y="2068.7" text-anchor="middle" dominant-baseline="middle" fill="#fff" font-size="18" font-weight="800" font-family="Playfair Display,serif" letter-spacing="1" class="dlabel">Beylikdüzü</text><rect x="2265.1" y="1848.2" width="89" height="37" rx="8" fill="#FF9800" opacity="0.1" class="dlabel"/><rect x="2267.1" y="1850.2" width="85" height="33" rx="6" fill="rgba(8,18,38,0.9)" stroke="#FF9800" stroke-width="1.2" stroke-opacity="0.5" class="dlabel"/><rect x="2273.1" y="1850.7" width="73" height="2.5" rx="1.2" fill="#FF9800" opacity="0.7" class="dlabel"/><text x="2309.5" y="1868.7" text-anchor="middle" dominant-baseline="middle" fill="#fff" font-size="15" font-weight="800" font-family="Playfair Display,serif" letter-spacing="1" class="dlabel">Esenler</text><rect x="1778.0" y="1946.7" width="111" height="40" rx="8" fill="#FF9800" opacity="0.1" class="dlabel"/><rect x="1780.0" y="1948.7" width="107" height="36" rx="6" fill="rgba(8,18,38,0.9)" stroke="#FF9800" stroke-width="1.2" stroke-opacity="0.5" class="dlabel"/><rect x="1786.0" y="1949.2" width="95" height="2.5" rx="1.2" fill="#FF9800" opacity="0.7" class="dlabel"/><text x="1833.3" y="1968.7" text-anchor="middle" dominant-baseline="middle" fill="#fff" font-size="18" font-weight="800" font-family="Playfair Display,serif" letter-spacing="1" class="dlabel">Esenyurt</text><rect x="2423.4" y="1644.7" width="153" height="44" rx="8" fill="#FF9800" opacity="0.1" class="dlabel"/><rect x="2425.4" y="1646.7" width="149" height="40" rx="6" fill="rgba(8,18,38,0.9)" stroke="#FF9800" stroke-width="1.2" stroke-opacity="0.5" class="dlabel"/><rect x="2431.4" y="1647.2" width="137" height="2.5" rx="1.2" fill="#FF9800" opacity="0.7" class="dlabel"/><text x="2500.0" y="1668.7" text-anchor="middle" dominant-baseline="middle" fill="#fff" font-size="22" font-weight="800" font-family="Playfair Display,serif" letter-spacing="1" class="dlabel">Eyüpsultan</text><rect x="2459.8" y="2013.3" width="80" height="40" rx="8" fill="#D4AF37" opacity="0.1" class="dlabel"/><rect x="2461.8" y="2015.3" width="76" height="36" rx="6" fill="rgba(8,18,38,0.9)" stroke="#D4AF37" stroke-width="1.2" stroke-opacity="0.5" class="dlabel"/><rect x="2467.8" y="2015.8" width="64" height="2.5" rx="1.2" fill="#D4AF37" opacity="0.7" class="dlabel"/><text x="2500.0" y="2035.3" text-anchor="middle" dominant-baseline="middle" fill="#fff" font-size="18" font-weight="800" font-family="Playfair Display,serif" letter-spacing="1" class="dlabel">Fatih</text><rect x="2348.1" y="1780.0" width="161" height="40" rx="8" fill="#FF9800" opacity="0.1" class="dlabel"/><rect x="2350.1" y="1782.0" width="157" height="36" rx="6" fill="rgba(8,18,38,0.9)" stroke="#FF9800" stroke-width="1.2" stroke-opacity="0.5" class="dlabel"/><rect x="2356.1" y="1782.5" width="145" height="2.5" rx="1.2" fill="#FF9800" opacity="0.7" class="dlabel"/><text x="2428.6" y="1802.0" text-anchor="middle" dominant-baseline="middle" fill="#fff" font-size="18" font-weight="800" font-family="Playfair Display,serif" letter-spacing="1" class="dlabel">Gaziosmanpaşa</text><rect x="2284.7" y="1981.5" width="97" height="37" rx="8" fill="#4CAF50" opacity="0.1" class="dlabel"/><rect x="2286.7" y="1983.5" width="93" height="33" rx="6" fill="rgba(8,18,38,0.9)" stroke="#4CAF50" stroke-width="1.2" stroke-opacity="0.5" class="dlabel"/><rect x="2292.7" y="1984.0" width="81" height="2.5" rx="1.2" fill="#4CAF50" opacity="0.7" class="dlabel"/><text x="2333.3" y="2002.0" text-anchor="middle" dominant-baseline="middle" fill="#fff" font-size="15" font-weight="800" font-family="Playfair Display,serif" letter-spacing="1" class="dlabel">Güngören</text><rect x="2244.1" y="1713.3" width="131" height="40" rx="8" fill="#FF9800" opacity="0.1" class="dlabel"/><rect x="2246.1" y="1715.3" width="127" height="36" rx="6" fill="rgba(8,18,38,0.9)" stroke="#FF9800" stroke-width="1.2" stroke-opacity="0.5" class="dlabel"/><rect x="2252.1" y="1715.8" width="115" height="2.5" rx="1.2" fill="#FF9800" opacity="0.7" class="dlabel"/><text x="2309.5" y="1735.3" text-anchor="middle" dominant-baseline="middle" fill="#fff" font-size="18" font-weight="800" font-family="Playfair Display,serif" letter-spacing="1" class="dlabel">Sultangazi</text><rect x="2367.4" y="2048.2" width="122" height="37" rx="8" fill="#4CAF50" opacity="0.1" class="dlabel"/><rect x="2369.4" y="2050.2" width="118" height="33" rx="6" fill="rgba(8,18,38,0.9)" stroke="#4CAF50" stroke-width="1.2" stroke-opacity="0.5" class="dlabel"/><rect x="2375.4" y="2050.7" width="106" height="2.5" rx="1.2" fill="#4CAF50" opacity="0.7" class="dlabel"/><text x="2428.6" y="2068.7" text-anchor="middle" dominant-baseline="middle" fill="#fff" font-size="15" font-weight="800" font-family="Playfair Display,serif" letter-spacing="1" class="dlabel">Zeytinburnu</text><rect x="2019.8" y="1980.0" width="151" height="40" rx="8" fill="#4CAF50" opacity="0.1" class="dlabel"/><rect x="2021.8" y="1982.0" width="147" height="36" rx="6" fill="rgba(8,18,38,0.9)" stroke="#4CAF50" stroke-width="1.2" stroke-opacity="0.5" class="dlabel"/><rect x="2027.8" y="1982.5" width="135" height="2.5" rx="1.2" fill="#4CAF50" opacity="0.7" class="dlabel"/><text x="2095.2" y="2002.0" text-anchor="middle" dominant-baseline="middle" fill="#fff" font-size="18" font-weight="800" font-family="Playfair Display,serif" letter-spacing="1" class="dlabel">Küçükçekmece</text>`;
  svg.appendChild(lg);
  grps['DIST']=g;grps['DLBL']=lg;vis['DIST']=true;vis['DLBL']=true;
}

// ═══ TRANSPORT LINE ═══
function drawLine(d){
  const g=ns('g');g.id='L-'+d.id;
  const pts=d.s.map(s=>P(s[0],s[1]).join(',')).join(' ');
  const gw=ns('polyline');gw.setAttribute('points',pts);gw.setAttribute('fill','none');
  gw.setAttribute('stroke',d.c);gw.setAttribute('stroke-width',d.w+4);gw.setAttribute('stroke-opacity','0.08');
  gw.setAttribute('stroke-linecap','round');gw.setAttribute('stroke-linejoin','round');
  if(d.d)gw.setAttribute('stroke-dasharray',d.d);g.appendChild(gw);
  const ln=ns('polyline');ln.setAttribute('points',pts);ln.setAttribute('fill','none');
  ln.setAttribute('stroke',d.c);ln.setAttribute('stroke-width',d.w);ln.setAttribute('stroke-opacity',d.op||'0.85');
  ln.setAttribute('stroke-linecap','round');ln.setAttribute('stroke-linejoin','round');
  if(d.d)ln.setAttribute('stroke-dasharray',d.d);g.appendChild(ln);
  if(d.label!==false){
    const mi=d.s[Math.floor(d.s.length/2)];const[mx,my]=P(mi[0],mi[1]);
    const labelText=d.label||d.id;
    const tw=labelText.length*6+16;
    const r=ns('rect');r.setAttribute('x',mx-tw/2);r.setAttribute('y',my-10);r.setAttribute('width',tw);r.setAttribute('height',19);
    r.setAttribute('rx',3);r.setAttribute('fill',d.c);r.setAttribute('opacity','0.92');
    r.setAttribute('style','filter:drop-shadow(0 2px 5px rgba(0,0,0,0.5))');g.appendChild(r);
    const t=ns('text');t.setAttribute('x',mx);t.setAttribute('y',my+3);t.setAttribute('text-anchor','middle');
    t.setAttribute('fill','#fff');t.setAttribute('font-size','10');t.setAttribute('font-weight','700');
    t.setAttribute('font-family','DM Sans,Segoe UI,sans-serif');t.textContent=labelText;g.appendChild(t);
  }
  return g;
}

// ═══ PREMIUM MARKER with permanent label ═══
function drawMarker(lat,lng,emoji,size,bgColor,name,desc,group,labelPos){
  const[cx,cy]=P(lat,lng);const r=size/2;
  // Outer glow
  const pg=ns('circle');pg.setAttribute('cx',cx);pg.setAttribute('cy',cy);pg.setAttribute('r',r+18);
  pg.setAttribute('fill',bgColor);pg.setAttribute('opacity','0.06');group.appendChild(pg);
  const mg=ns('circle');mg.setAttribute('cx',cx);mg.setAttribute('cy',cy);mg.setAttribute('r',r+10);
  pg.setAttribute('fill',bgColor);mg.setAttribute('fill',bgColor);mg.setAttribute('opacity','0.12');group.appendChild(mg);
  // Main circle
  const c=ns('circle');c.setAttribute('cx',cx);c.setAttribute('cy',cy);c.setAttribute('r',r);
  c.setAttribute('fill',bgColor);c.setAttribute('stroke','#fff');c.setAttribute('stroke-width','3');
  c.setAttribute('style','filter:drop-shadow(0 4px 14px rgba(0,0,0,0.7))');group.appendChild(c);
  // Inner shine
  const ih=ns('circle');ih.setAttribute('cx',cx-r*0.2);ih.setAttribute('cy',cy-r*0.25);ih.setAttribute('r',r*0.32);
  ih.setAttribute('fill','rgba(255,255,255,0.15)');group.appendChild(ih);
  // Emoji
  const t=ns('text');t.setAttribute('x',cx);t.setAttribute('y',cy+size*0.12);t.setAttribute('text-anchor','middle');
  t.setAttribute('font-size',size*0.5);t.textContent=emoji;group.appendChild(t);
  // PERMANENT LABEL PILL
  const lp=labelPos||'bottom';
  const lfs=size>=35?13:11;
  const labelW=name.length*lfs*0.62+24;
  const labelH=lfs+12;
  let lx=cx-labelW/2, ly;
  if(lp==='bottom'){ly=cy+r+12}
  else if(lp==='top'){ly=cy-r-12-labelH}
  else if(lp==='right'){lx=cx+r+10;ly=cy-labelH/2}
  else if(lp==='left'){lx=cx-r-10-labelW;ly=cy-labelH/2}
  // Connector line
  const cl=ns('line');
  cl.setAttribute('x1',cx);cl.setAttribute('y1',lp==='bottom'?cy+r:lp==='top'?cy-r:cy);
  cl.setAttribute('x2',lx+labelW/2);cl.setAttribute('y2',ly+(lp==='bottom'?0:lp==='top'?labelH:labelH/2));
  cl.setAttribute('stroke',bgColor);cl.setAttribute('stroke-width','1');cl.setAttribute('stroke-opacity','0.4');
  group.appendChild(cl);
  // Label bg
  const lr=ns('rect');lr.setAttribute('x',lx);lr.setAttribute('y',ly);lr.setAttribute('width',labelW);lr.setAttribute('height',labelH);
  lr.setAttribute('rx','5');lr.setAttribute('fill','rgba(8,18,38,0.92)');
  lr.setAttribute('stroke',bgColor);lr.setAttribute('stroke-width','1.5');lr.setAttribute('stroke-opacity','0.65');
  lr.setAttribute('style','filter:drop-shadow(0 3px 8px rgba(0,0,0,0.5))');group.appendChild(lr);
  // Top accent
  const la=ns('rect');la.setAttribute('x',lx+4);la.setAttribute('y',ly);la.setAttribute('width',labelW-8);la.setAttribute('height','2');
  la.setAttribute('rx','1');la.setAttribute('fill',bgColor);la.setAttribute('opacity','0.6');group.appendChild(la);
  // Label text
  const lt=ns('text');lt.setAttribute('x',lx+labelW/2);lt.setAttribute('y',ly+labelH/2+1.5);
  lt.setAttribute('text-anchor','middle');lt.setAttribute('dominant-baseline','middle');
  lt.setAttribute('fill','#fff');lt.setAttribute('font-size',lfs);lt.setAttribute('font-weight','700');
  lt.setAttribute('font-family','DM Sans,Segoe UI,sans-serif');lt.setAttribute('letter-spacing','0.3');
  lt.textContent=name;group.appendChild(lt);
  // Hit area
  const hit=ns('circle');hit.setAttribute('cx',cx);hit.setAttribute('cy',cy);hit.setAttribute('r',r+8);
  hit.setAttribute('fill','transparent');hit.setAttribute('cursor','pointer');
  hit.addEventListener('mouseenter',e=>stt(e,name,desc,bgColor));hit.addEventListener('mouseleave',htt);
  hit.addEventListener('touchstart',e=>{e.preventDefault();stt(e,name,desc,bgColor)});group.appendChild(hit);
}

// ═══ TRANSPORT DATA ═══
const D={
metro:[
{id:'M1A',n:'M1A Yenikapi-Ataturk Airport',c:'#E4122C',w:4,s:[[41.005,28.970],[41.002,28.960],[40.999,28.950],[40.996,28.940],[40.993,28.930],[40.991,28.918],[40.989,28.905],[40.987,28.892],[40.985,28.878],[40.983,28.865],[40.981,28.850],[40.979,28.838],[40.978,28.822],[40.977,28.812]]},
{id:'M1B',n:'M1B Yenikapi-Kirazli',c:'#E4122C',w:3,s:[[41.005,28.970],[41.002,28.960],[40.999,28.950],[40.996,28.940],[40.997,28.933],[41.000,28.925],[41.004,28.918],[41.008,28.912],[41.012,28.906],[41.016,28.900],[41.020,28.895]]},
{id:'M2',n:'M2 Yenikapi-Haciosman',c:'#00843D',w:4,s:[[41.005,28.970],[41.010,28.974],[41.015,28.977],[41.020,28.978],[41.025,28.976],[41.030,28.975],[41.035,28.977],[41.040,28.980],[41.045,28.982],[41.050,28.981],[41.055,28.979],[41.060,28.978],[41.065,28.977],[41.070,28.976],[41.075,28.975],[41.080,28.976],[41.085,28.978],[41.090,28.980],[41.095,28.981],[41.100,28.983],[41.105,28.985]]},
{id:'M3',n:'M3 Kirazli-Basaksehir',c:'#0072BC',w:4,s:[[41.020,28.895],[41.025,28.888],[41.030,28.882],[41.035,28.876],[41.040,28.870],[41.045,28.865],[41.050,28.860],[41.055,28.855],[41.060,28.850],[41.065,28.845],[41.070,28.842],[41.078,28.838]]},
{id:'M4',n:'M4 Kadikoy-Sabiha Gokcen',c:'#E4A5C3',w:4,s:[[40.992,29.025],[40.988,29.038],[40.984,29.052],[40.980,29.065],[40.976,29.078],[40.972,29.090],[40.968,29.102],[40.964,29.115],[40.960,29.128],[40.955,29.142],[40.950,29.155],[40.944,29.168],[40.938,29.180],[40.932,29.192],[40.926,29.205],[40.920,29.218],[40.914,29.232],[40.908,29.248],[40.903,29.265],[40.900,29.280],[40.898,29.298]]},
{id:'M5',n:'M5 Uskudar-Cekmekoy',c:'#A868AB',w:4,s:[[41.024,29.016],[41.027,29.025],[41.030,29.038],[41.033,29.050],[41.036,29.062],[41.039,29.074],[41.042,29.086],[41.045,29.098],[41.048,29.110],[41.052,29.122],[41.056,29.134],[41.060,29.146],[41.064,29.158],[41.068,29.168],[41.072,29.178],[41.076,29.188]]},
{id:'M6',n:'M6 Levent-Bogazici',c:'#CA7A3B',w:3,s:[[41.080,28.976],[41.084,28.972],[41.088,28.967],[41.092,28.962],[41.095,28.958]]},
{id:'M7',n:'M7 Mecidiyekoy-Mahmutbey',c:'#F57DB0',w:4,s:[[41.060,28.978],[41.058,28.970],[41.056,28.960],[41.054,28.950],[41.052,28.940],[41.050,28.930],[41.048,28.920],[41.045,28.910],[41.042,28.900],[41.039,28.890],[41.036,28.882],[41.033,28.875]]},
{id:'M8',n:'M8 Bostanci-Dudullu',c:'#54B848',w:3,s:[[40.965,29.050],[40.968,29.058],[40.972,29.066],[40.976,29.074],[40.980,29.082],[40.984,29.090],[40.988,29.098],[40.993,29.105],[40.998,29.112],[41.003,29.118],[41.008,29.124],[41.013,29.128],[41.018,29.132]]},
{id:'M9',n:'M9 Atakoy-Ikitelli',c:'#AFCA4A',w:3,s:[[40.981,28.855],[40.984,28.848],[40.988,28.842],[40.992,28.836],[40.996,28.832],[41.000,28.828],[41.004,28.826],[41.008,28.825],[41.012,28.824],[41.016,28.825],[41.020,28.826],[41.024,28.828],[41.028,28.832]]},
{id:'M11',n:'M11 Gayrettepe-Airport',c:'#FF8C00',w:4,s:[[41.070,28.978],[41.076,28.970],[41.083,28.962],[41.090,28.955],[41.098,28.948],[41.108,28.938],[41.118,28.928],[41.128,28.916],[41.140,28.902],[41.152,28.888],[41.165,28.872],[41.178,28.856],[41.190,28.840],[41.205,28.822],[41.220,28.804],[41.235,28.786],[41.248,28.768],[41.258,28.750],[41.261,28.742]]},
{id:'M12',n:'M12 Gayrettepe-IFC',c:'#7B4FBF',w:3,s:[[41.070,28.978],[41.065,28.986],[41.058,28.994],[41.050,29.002],[41.042,29.010],[41.035,29.018],[41.028,29.026],[41.020,29.035],[41.012,29.045],[41.005,29.056],[40.998,29.068],[40.993,29.082],[40.990,29.098],[40.988,29.112]]},
{id:'M14',n:'M14 Kadikoy-Kartal',c:'#009688',w:3,s:[[40.992,29.025],[40.988,29.040],[40.983,29.058],[40.978,29.075],[40.972,29.092],[40.966,29.108],[40.960,29.125],[40.952,29.145],[40.945,29.165],[40.938,29.182]]}
],
tram:[
{id:'T1',n:'T1 Kabatas-Bagcilar',c:'#2DAFE6',w:3,d:'6,4',s:[[41.033,28.984],[41.028,28.980],[41.023,28.976],[41.018,28.974],[41.013,28.971],[41.008,28.966],[41.005,28.960],[41.003,28.953],[41.002,28.946],[41.002,28.938],[41.004,28.930],[41.007,28.922],[41.010,28.914],[41.014,28.906],[41.018,28.898]]},
{id:'T4',n:'T4 Topkapi-Mescid-i Selam',c:'#78909C',w:2.5,d:'6,4',s:[[41.008,28.940],[41.012,28.944],[41.017,28.948],[41.022,28.950],[41.028,28.952],[41.033,28.950],[41.038,28.948],[41.043,28.946],[41.048,28.945],[41.053,28.946],[41.058,28.948]]},
{id:'T5',n:'T5 Cibali-Alibeykoy',c:'#607D8B',w:2.5,d:'6,4',s:[[41.020,28.960],[41.024,28.958],[41.028,28.955],[41.032,28.952],[41.036,28.950],[41.040,28.948],[41.044,28.946],[41.048,28.944]]}
],
rail:[
{id:'MRM',n:'Marmaray (Halkali-Gebze)',c:'#E77C00',w:5,op:'0.7',label:'MARMARAY',s:[[41.005,28.680],[41.003,28.720],[41.001,28.760],[40.999,28.800],[40.998,28.840],[40.999,28.870],[41.001,28.900],[41.003,28.925],[41.005,28.950],[41.006,28.970],[41.005,28.990],[41.003,29.010],[40.999,29.028],[40.994,29.042],[40.988,29.055],[40.982,29.068],[40.975,29.082],[40.968,29.098],[40.960,29.115],[40.952,29.135],[40.945,29.155],[40.938,29.175],[40.930,29.195],[40.922,29.218],[40.914,29.240],[40.906,29.262],[40.898,29.285],[40.888,29.315],[40.878,29.345]]},
{id:'BRT',n:'Metrobus BRT',c:'#CCCC00',w:5,d:'10,5',op:'0.5',label:'METROBUS',s:[[41.017,28.660],[41.013,28.700],[41.010,28.740],[41.007,28.775],[41.004,28.810],[41.002,28.840],[41.000,28.870],[41.002,28.900],[41.005,28.925],[41.007,28.945],[41.008,28.965],[41.007,28.985],[41.005,29.000],[41.002,29.018],[40.998,29.035],[40.992,29.055],[40.985,29.075],[40.978,29.095]]}
],
highway:[
{id:'E5',n:'E-5 / D-100',c:'#FFD700',w:4.5,op:'0.6',label:'E-5 / D-100',s:[[41.020,28.370],[41.015,28.420],[41.012,28.470],[41.010,28.520],[41.008,28.570],[41.005,28.620],[41.002,28.660],[41.000,28.700],[40.998,28.740],[40.997,28.780],[40.997,28.820],[40.998,28.850],[41.000,28.875],[41.002,28.900],[41.005,28.920],[41.007,28.940],[41.008,28.955],[41.008,28.970],[41.007,28.985],[41.005,29.000],[41.002,29.015],[40.998,29.035],[40.993,29.055],[40.988,29.075],[40.982,29.095],[40.975,29.115],[40.968,29.135],[40.960,29.155],[40.952,29.175],[40.945,29.195],[40.938,29.215],[40.930,29.235],[40.922,29.258],[40.915,29.280],[40.908,29.305]]},
{id:'TEM',n:'TEM / O-1',c:'#FF4444',w:4.5,op:'0.55',label:'TEM / O-1',s:[[41.10,28.400],[41.105,28.480],[41.105,28.560],[41.100,28.640],[41.095,28.700],[41.090,28.760],[41.085,28.820],[41.078,28.860],[41.070,28.895],[41.060,28.920],[41.053,28.945],[41.048,28.970],[41.045,28.995],[41.043,29.020],[41.042,29.045],[41.043,29.070],[41.045,29.095],[41.044,29.120],[41.040,29.150],[41.035,29.180],[41.028,29.210],[41.020,29.240],[41.010,29.270],[41.000,29.300],[40.990,29.340]]},
{id:'O7',n:'O-7 Kuzey Marmara',c:'#00E676',w:3.5,d:'8,5',op:'0.45',label:'O-7',s:[[41.15,28.30],[41.16,28.40],[41.17,28.50],[41.18,28.60],[41.19,28.70],[41.20,28.78],[41.21,28.85],[41.22,28.92],[41.22,29.00],[41.21,29.08],[41.20,29.15],[41.18,29.22],[41.15,29.30],[41.12,29.38],[41.10,29.45]]},
{id:'BE',n:'Basin Ekspres',c:'#FF69B4',w:4,op:'0.65',label:'BASIN EKSPRES',s:[[40.997,28.820],[41.000,28.822],[41.005,28.825],[41.010,28.828],[41.015,28.832],[41.020,28.836],[41.025,28.840],[41.030,28.843],[41.035,28.846],[41.040,28.849],[41.045,28.852],[41.050,28.855],[41.055,28.858],[41.060,28.861],[41.065,28.864],[41.070,28.868],[41.075,28.872],[41.080,28.876],[41.085,28.880]]}
],
ferry:[
{id:'FK1',n:'Kabatas-Kadikoy',c:'#00BCD4',w:2.5,d:'4,6',op:'0.45',label:false,s:[[41.033,28.984],[41.015,29.005],[40.993,29.022]]},
{id:'FK2',n:'Eminonu-Uskudar',c:'#00BCD4',w:2.5,d:'4,6',op:'0.45',label:false,s:[[41.017,28.972],[41.022,28.995],[41.025,29.015]]},
{id:'FK3',n:'Karakoy-Kadikoy',c:'#00BCD4',w:2.5,d:'4,6',op:'0.45',label:false,s:[[41.020,28.975],[41.005,29.000],[40.993,29.022]]},
{id:'FK4',n:'Besiktas-Uskudar',c:'#00BCD4',w:2.5,d:'4,6',op:'0.45',label:false,s:[[41.043,29.000],[41.035,29.008],[41.025,29.015]]},
{id:'FK5',n:'Eminonu-Islands',c:'#00BCD4',w:2,d:'4,6',op:'0.35',label:false,s:[[41.017,28.972],[41.000,29.010],[40.960,29.050],[40.880,29.080]]},
{id:'FK6',n:'IDO Yenikapi-Bursa',c:'#00BCD4',w:2,d:'4,6',op:'0.35',label:false,s:[[41.005,28.950],[40.975,28.900],[40.945,28.850],[40.915,28.800]]}
]
};

// ═══ BUILD MAP ═══
drawWater();
drawDistricts();

['highway','ferry','rail','metro','tram'].forEach(cat=>{
  D[cat].forEach(d=>{const g=drawLine(d);svg.appendChild(g);grps[d.id]=g;vis[d.id]=true});
});

// AIRPORTS - big and visible
const apG=ns('g');apG.id='AIR';
drawMarker(41.2608,28.7419,'✈',44,'#FF6B35','Istanbul Airport (IST)','World\'s largest terminal · 200M+ capacity · 5 runways',apG,'bottom');
drawMarker(40.8986,29.3092,'✈',44,'#FF6B35','Sabiha Gökçen (SAW)','Asian-side international · Drives Pendik/Tuzla demand',apG,'top');
drawMarker(40.9769,28.8146,'✈',32,'#607D8B','Atatürk Airport (Closed)','Transforming into Nation\'s Garden mega park',apG,'bottom');
svg.appendChild(apG);grps['AIR']=apG;vis['AIR']=true;

// BRIDGES - prominent
const brG=ns('g');brG.id='BRG';
drawMarker(41.0453,29.0343,'🌉',32,'#3498DB','15 July Martyrs Bridge','1st Bosphorus Bridge · 1973 · 1,074m',brG,'left');
drawMarker(41.0905,29.0617,'🌉',32,'#3498DB','FSM Bridge','2nd Bosphorus Bridge · 1988 · 1,090m',brG,'right');
drawMarker(41.2053,29.1183,'🌉',32,'#3498DB','Yavuz Sultan Selim Bridge','3rd Bosphorus · 2016 · 1,408m',brG,'right');
svg.appendChild(brG);grps['BRG']=brG;vis['BRG']=true;

// LANDMARKS - many, clearly labeled
const lmG=ns('g');lmG.id='LMK';
drawMarker(40.988,29.117,'🏛',28,'#C9A84C','Istanbul Finance Center','New financial hub in Ataşehir',lmG,'right');
drawMarker(41.003,29.012,'🚇',24,'#E77C00','Marmaray Tunnel','Undersea rail crossing · Connects Europe-Asia',lmG,'top');
drawMarker(40.998,29.020,'🚗',24,'#607D8B','Eurasia Tunnel','Undersea road tunnel · Opened 2016',lmG,'bottom');
drawMarker(41.009,28.978,'🕌',28,'#C9A84C','Hagia Sophia','UNESCO Heritage · Historic landmark',lmG,'right');
drawMarker(41.006,28.976,'🕌',24,'#C9A84C','Blue Mosque','Sultan Ahmed · Iconic 6 minarets',lmG,'left');
drawMarker(41.011,28.984,'🏰',24,'#C9A84C','Topkapı Palace','Ottoman imperial palace · Museum',lmG,'top');
drawMarker(41.026,28.974,'🗼',26,'#C9A84C','Galata Tower','Medieval tower · Panoramic views',lmG,'left');
drawMarker(41.011,28.968,'🏪',22,'#FF9800','Grand Bazaar','World\'s oldest market · 4,000+ shops',lmG,'bottom');
drawMarker(41.080,28.978,'🏢',24,'#2196F3','Levent CBD','Business district · Skyscrapers',lmG,'right');
drawMarker(41.14,28.60,'🌊',24,'#00BCD4','Istanbul Canal (Planned)','New waterway parallel to Bosphorus',lmG,'right');
// Ferry terminals
[['Kabataş',41.033,28.984,'top'],['Eminönü',41.017,28.972,'left'],['Kadıköy',40.993,29.022,'bottom'],['Üsküdar',41.025,29.015,'right'],['Beşiktaş',41.043,29.000,'top']].forEach(f=>{
  drawMarker(f[1],f[2],'⚓',22,'#00BCD4',f[0]+' Terminal','Ferry terminal · Sea transport',lmG,f[3]);
});
svg.appendChild(lmG);grps['LMK']=lmG;vis['LMK']=true;

// ═══ SIDEBAR with category toggle-all buttons ═══
const layerConfig={
  'Metro Lines':{items:D.metro.map(d=>({id:d.id,label:d.id,color:d.c,type:'line'}))},
  'Tram':{items:D.tram.map(d=>({id:d.id,label:d.n,color:d.c,type:'dash'}))},
  'Rail & BRT':{items:[
    {id:'MRM',label:'Marmaray',color:'#E77C00',type:'line'},
    {id:'BRT',label:'Metrobus BRT',color:'#CCCC00',type:'dash'}
  ]},
  'Sea Transport':{items:D.ferry.map(d=>({id:d.id,label:d.n,color:d.c,type:'dash'}))},
  'Highways':{items:D.highway.map(d=>({id:d.id,label:d.n,color:d.c,type:'line'}))},
  'Bridges & Airports':{items:[
    {id:'BRG',label:'Bosphorus Bridges',color:'#3498DB',type:'dot'},
    {id:'AIR',label:'Airports',color:'#FF6B35',type:'dot'}
  ]},
  'Districts & Landmarks':{items:[
    {id:'DIST',label:'District Boundaries',color:'#D4AF37',type:'dot'},
    {id:'DLBL',label:'District Labels',color:'#fff',type:'dot'},
    {id:'LMK',label:'Landmarks & Terminals',color:'#C9A84C',type:'dot'}
  ]}
};

const sb=document.getElementById('panel');
let ph='<div class="sb-title">Transport Layers</div><div class="sb-sub">Toggle layers on/off. Hover markers for details. 13 metro lines, trams, Marmaray, Metrobus, ferries, 4 highways, 3 airports, 3 bridges, and 15+ landmarks.</div>';

Object.keys(layerConfig).forEach(group=>{
  const gid='GRP-'+group.replace(/[^a-zA-Z]/g,'');
  ph+='<div class="lg" id="'+gid+'"><div class="lgt"><span>'+group+'</span><span class="lgt-toggle" data-gid="'+gid+'" onclick="toggleGroup(\''+gid+'\')">Hide All</span></div>';
  layerConfig[group].items.forEach(item=>{
    let sh='';
    if(item.type==='line') sh='<div class="lc" style="background:'+item.color+'"></div>';
    else if(item.type==='dash') sh='<div class="ldash" style="border-color:'+item.color+'"></div>';
    else sh='<div class="ldot" style="background:'+item.color+'"></div>';
    ph+='<div class="lb active" data-id="'+item.id+'" onclick="tl(\''+item.id+'\',this)">'+sh+'<span>'+item.label+'</span></div>';
  });
  ph+='</div>';
});

// Legend
ph+='<div class="legend"><div class="legend-title">Investment Zones</div>';
[['Premium','#D4AF37','Besiktas, Sisli, Beyoglu, Sariyer, Bakirkoy, Kadikoy, Fatih'],
 ['High Growth','#2196F3','Basaksehir, Atasehir, Uskudar, Maltepe, Pendik, Kartal, Umraniye'],
 ['Emerging','#4CAF50','Bagcilar, Kucukcekmece, Beylikduzu, Bahcelievler, Zeytinburnu, Tuzla, Gungoren, Avcilar'],
 ['Value','#FF9800','Esenyurt, Esenler, Sultangazi, GOP, Bayrampasa, Kagithane, Eyupsultan, Sultanbeyli, Sancaktepe'],
 ['Frontier','#9C27B0','Arnavutkoy, Catalca, Silivri, Buyukcekmece, Cekmekoy, Beykoz, Sile, Adalar']
].forEach(([n,c,d])=>{
  ph+='<div class="legend-item"><div class="legend-dot" style="background:'+c+'"></div><div><div style="font-weight:600;color:'+c+'">'+n+'</div><div style="font-size:8px;color:rgba(255,255,255,0.3);margin-top:1px">'+d+'</div></div></div>';
});
ph+='</div>';
sb.innerHTML=ph;

// Toggle individual layer
function tl(id,el){
  vis[id]=!vis[id];
  if(vis[id]){el.className='lb active';grps[id].style.display=''}
  else{el.className='lb off';grps[id].style.display='none'}
}

// Toggle ALL layers in a group
function toggleGroup(gid){
  const gDiv=document.getElementById(gid);
  const btns=gDiv.querySelectorAll('.lb');
  const toggleBtn=gDiv.querySelector('.lgt-toggle');
  const anyOn=Array.from(btns).some(b=>b.classList.contains('active'));
  btns.forEach(b=>{
    const id=b.getAttribute('data-id');
    if(anyOn){vis[id]=false;b.className='lb off';grps[id].style.display='none'}
    else{vis[id]=true;b.className='lb active';grps[id].style.display=''}
  });
  toggleBtn.textContent=anyOn?'Show All':'Hide All';
}

// ═══ PAN & ZOOM ═══
function ut(){svg.style.transform='translate('+px+'px,'+py+'px) scale('+sc+')';svg.style.transformOrigin='0 0'}
function rv(){const cw=mc.clientWidth-275,ch=mc.clientHeight-62;sc=Math.min(cw/W,ch/H)*0.9;px=(cw-W*sc)/2;py=62+(ch-H*sc)/2;ut()}
rv();window.addEventListener('resize',rv);
mc.addEventListener('mousedown',e=>{drag=true;dx0=e.clientX;dy0=e.clientY;px0=px;py0=py});
window.addEventListener('mousemove',e=>{if(!drag)return;px=px0+(e.clientX-dx0);py=py0+(e.clientY-dy0);ut()});
window.addEventListener('mouseup',()=>{drag=false});
let tx0,ty0,tpx,tpy;
mc.addEventListener('touchstart',e=>{if(e.touches.length===1){tx0=e.touches[0].clientX;ty0=e.touches[0].clientY;tpx=px;tpy=py}},{passive:true});
mc.addEventListener('touchmove',e=>{if(e.touches.length===1){px=tpx+(e.touches[0].clientX-tx0);py=tpy+(e.touches[0].clientY-ty0);ut()}},{passive:true});
mc.addEventListener('wheel',e=>{e.preventDefault();const f=e.deltaY<0?1.15:0.87;const r=mc.getBoundingClientRect();const mx=e.clientX-r.left,my=e.clientY-r.top;const ns2=Math.max(0.15,Math.min(12,sc*f));px=mx-(mx-px)*(ns2/sc);py=my-(my-py)*(ns2/sc);sc=ns2;ut()},{passive:false});
function zm(f){const cw=mc.clientWidth/2,ch=mc.clientHeight/2;const ns2=Math.max(0.15,Math.min(12,sc*f));px=cw-(cw-px)*(ns2/sc);py=ch-(ch-py)*(ns2/sc);sc=ns2;ut()}
</script>
</body>
</html>
